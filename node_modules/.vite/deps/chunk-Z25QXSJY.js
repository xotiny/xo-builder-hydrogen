import {
  useCollection
} from "./chunk-SSTWVKXD.js";
import {
  useSettings
} from "./chunk-OFJGWOBY.js";
import {
  Style
} from "./chunk-PEYES2GH.js";
import {
  require_jsx_runtime
} from "./chunk-3YQ7MRFA.js";
import {
  elementAttr
} from "./chunk-YPUMDGBE.js";
import {
  require_react
} from "./chunk-FO5G5QMT.js";
import {
  __toESM
} from "./chunk-DNCPQDPH.js";

// node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/collection-image/collection-image.js
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_react = __toESM(require_react(), 1);

// node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/collection-image/collection-image-utils.js
function collectionImageUtils({ element }) {
  var _a, _b, _c, _d, _e, _f, _g;
  const { settings } = element;
  const imageWidthDesktop = `${settings.imageWidth.desktop.value}${settings.imageWidth.desktop.unit}`;
  const imageWidthTablet = `${((_a = settings.imageWidth.tablet) == null ? void 0 : _a.value) ?? settings.imageWidth.desktop.value}${((_b = settings.imageWidth.tablet) == null ? void 0 : _b.unit) ?? settings.imageWidth.desktop.unit}`;
  const imageWidthMobile = `${((_c = settings.imageWidth.mobile) == null ? void 0 : _c.value) ?? settings.imageWidth.desktop.value}${((_d = settings.imageWidth.mobile) == null ? void 0 : _d.unit) ?? settings.imageWidth.desktop.unit}`;
  const imageHeightDesktop = (_e = settings.imageHeight.desktop) == null ? void 0 : _e.value;
  const imageHeightTablet = ((_f = settings.imageHeight.tablet) == null ? void 0 : _f.value) ?? imageHeightDesktop;
  const imageHeightMobile = ((_g = settings.imageHeight.mobile) == null ? void 0 : _g.value) ?? imageHeightTablet;
  function getHeightUnit(screen) {
    var _a2, _b2, _c2, _d2, _e2, _f2;
    if (screen === "tablet") {
      return settings.imageHeight.tablet ? (_a2 = settings.imageHeight.tablet) == null ? void 0 : _a2.unit : (_b2 = settings.imageHeight.desktop) == null ? void 0 : _b2.unit;
    }
    if (screen === "mobile") {
      return settings.imageHeight.mobile ? (_c2 = settings.imageHeight.mobile) == null ? void 0 : _c2.unit : settings.imageHeight.tablet ? (_d2 = settings.imageHeight.tablet) == null ? void 0 : _d2.unit : (_e2 = settings.imageHeight.desktop) == null ? void 0 : _e2.unit;
    }
    return (_f2 = settings.imageHeight.desktop) == null ? void 0 : _f2.unit;
  }
  function getRatio() {
    var _a2;
    if (settings.imageRatio === "square") {
      const ratio = Style.create({
        "--xb-collection-image-aspect-ratio-desktop": 1,
        "--xb-collection-image-aspect-ratio-tablet": 1,
        "--xb-collection-image-aspect-ratio-mobile": 1
      });
      return ratio.get();
    } else if (settings.imageRatio === "custom") {
      const ratio = Style.create({});
      if (((_a2 = settings.imageHeight.desktop) == null ? void 0 : _a2.unit) === "%") {
        ratio.set({
          "--xb-collection-image-aspect-ratio-desktop": `100 / ${imageHeightDesktop}`
        });
      } else {
        ratio.set({
          "--xb-collection-image-aspect-ratio-desktop": "unset",
          "--xb-collection-image-height-desktop": `${imageHeightDesktop}px`
        });
      }
      if (getHeightUnit("tablet") === "%") {
        ratio.set({
          "--xb-collection-image-aspect-ratio-tablet": `100 / ${imageHeightTablet}`
        });
      } else {
        ratio.set({
          "--xb-collection-image-aspect-ratio-tablet": "unset",
          "--xb-collection-image-height-tablet": `${imageHeightTablet}px`
        });
      }
      if (getHeightUnit("mobile") === "%") {
        ratio.set({
          "--xb-collection-image-aspect-ratio-mobile": `100 / ${imageHeightMobile}`
        });
      } else {
        ratio.set({
          "--xb-collection-image-aspect-ratio-mobile": "unset",
          "--xb-collection-image-height-mobile": `${imageHeightMobile}px`
        });
      }
      return ratio.get();
    }
  }
  function getObjectFit() {
    if (settings.imageObjectFit === "contain") {
      const objectFit2 = Style.create({
        "--xb-collection-image-object-fit-fit": "contain"
      });
      return objectFit2.get();
    }
    const objectFit = Style.create({
      "--xb-collection-image-object-fit-fit": "cover"
    });
    return objectFit.get();
  }
  function getStyle() {
    const style = Style.create({
      "--xb-image-width-desktop": imageWidthDesktop,
      "--xb-image-width-tablet": imageWidthTablet,
      "--xb-image-width-mobile": imageWidthMobile
    });
    if (settings.imageSize === "full") {
      style.set({
        width: "100%"
      });
    }
    return style.get();
  }
  const actionEnabled = settings.linkToCollectionEnabled === "yes";
  const tagName = actionEnabled ? "a" : "div";
  const classLink = actionEnabled ? "xb-link" : "";
  const defaultPlaceholder = "https://cdn.shopify.com/s/files/1/0677/7900/2622/files/Collection-placeholder.svg?v=1717754462";
  return {
    tagName,
    classLink,
    getRatio,
    getObjectFit,
    getStyle,
    defaultPlaceholder
  };
}

// node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/collection-image/styles.js
import "/Users/vandoan/Documents/code/hydrogen/xo-builder-hydrogen/node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/collection-image/collection-image.css";

// node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/collection-image/collection-image.js
var CollectionImage = ({ element }) => {
  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j, _k;
  const { settings } = element;
  const collection = useCollection(element.id);
  const { tagName, classLink, getObjectFit, getRatio, getStyle, defaultPlaceholder } = collectionImageUtils({ element });
  const { globalSettings: global } = useSettings();
  const globalPlaceholder = (_b = (_a = global == null ? void 0 : global.placeholderImage) == null ? void 0 : _a["collection-image"]) == null ? void 0 : _b.url;
  const currentPlaceholder = globalPlaceholder ? globalPlaceholder : defaultPlaceholder;
  function renderLoading() {
    var _a2, _b2, _c2, _d2, _e2, _f2, _g2;
    const loaderType = ((_a2 = global == null ? void 0 : global.imageLoader) == null ? void 0 : _a2.type) ?? "loader-1";
    const loaderColor = ((_b2 = global == null ? void 0 : global.imageLoader) == null ? void 0 : _b2.color) ?? "#000";
    const loaderBackgroundColor = ((_c2 = global == null ? void 0 : global.imageLoader) == null ? void 0 : _c2.backgroundColor) ?? "rgba(0, 0, 0, 0.1)";
    const loaderDuration = ((_e2 = (_d2 = global == null ? void 0 : global.imageLoader) == null ? void 0 : _d2.duration) == null ? void 0 : _e2.value) ?? 1600;
    const loaderSize = ((_g2 = (_f2 = global == null ? void 0 : global.imageLoader) == null ? void 0 : _f2.size) == null ? void 0 : _g2.value) ?? 40;
    switch (loaderType) {
      case "loader-1":
        return (0, import_jsx_runtime.jsx)("div", { className: "xb-image__overlay xo-lazyload-overlay", children: (0, import_jsx_runtime.jsx)("div", { className: "xb-image__loading", style: { "--xb-image-loading-background": loaderBackgroundColor }, children: (0, import_jsx_runtime.jsx)("div", { className: "xo-loader-1", style: { "--color": loaderColor, "--duration": loaderDuration, "--size": loaderSize }, children: (0, import_jsx_runtime.jsx)("span", {}) }) }) });
      case "loader-2":
        const loaderSize2 = Math.round(loaderSize / 2);
        return (0, import_jsx_runtime.jsx)("div", { className: "xb-image__overlay xo-lazyload-overlay", children: (0, import_jsx_runtime.jsx)("div", { className: "xb-image__loading", style: { "--xb-image-loading-background": loaderBackgroundColor }, children: (0, import_jsx_runtime.jsx)("div", { className: "xo-loader-2", style: { "--color": loaderColor, "--duration": loaderDuration, "--stroke-width": 2, "--size": loaderSize2 }, children: (0, import_jsx_runtime.jsx)("div", { children: (0, import_jsx_runtime.jsx)("span", {}) }) }) }) });
      case "loader-3":
        const loaderSize3 = Math.round(loaderSize / 4);
        return (0, import_jsx_runtime.jsx)("div", { className: "xb-image__overlay xo-lazyload-overlay", children: (0, import_jsx_runtime.jsx)("div", { className: "xb-image__loading", style: { "--xb-image-loading-background": loaderBackgroundColor }, children: (0, import_jsx_runtime.jsx)("div", { className: "xo-loader-3", style: { "--color": loaderColor, "--duration": loaderDuration, "--size": loaderSize3 }, children: (0, import_jsx_runtime.jsx)("span", {}) }) }) });
    }
  }
  if (!collection) {
    return null;
  }
  return (0, import_react.createElement)(tagName, {
    ...elementAttr(element, {
      classNames: ["xb-collection-image", "xb-image", classLink, (_c = settings.static) == null ? void 0 : _c.class, (_d = settings == null ? void 0 : settings.modifier) == null ? void 0 : _d.handle],
      style: {
        ...getRatio(),
        ...getObjectFit(),
        ...getStyle()
      }
    }),
    href: `/collections/${collection.handle}`
  }, (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, { children: [(0, import_jsx_runtime.jsx)("img", { is: "xo-lazyload", "xo-src": ((_e = collection == null ? void 0 : collection.image) == null ? void 0 : _e.url) ? (_f = collection.image) == null ? void 0 : _f.url : currentPlaceholder, loading: "lazy", alt: ((_g = collection == null ? void 0 : collection.image) == null ? void 0 : _g.altText) ?? collection.title, width: ((_h = collection == null ? void 0 : collection.image) == null ? void 0 : _h.width) ?? 300, height: ((_i = collection == null ? void 0 : collection.image) == null ? void 0 : _i.height) ?? 300, "xo-intrinsic-width": ((_j = collection == null ? void 0 : collection.image) == null ? void 0 : _j.width) ?? 300, "xo-intrinsic-height": ((_k = collection == null ? void 0 : collection.image) == null ? void 0 : _k.height) ?? 300, "xo-fallback-width": "300" }), renderLoading()] }));
};

export {
  CollectionImage
};
//# sourceMappingURL=chunk-Z25QXSJY.js.map
