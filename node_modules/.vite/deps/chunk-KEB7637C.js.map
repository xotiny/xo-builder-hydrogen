{
  "version": 3,
  "sources": ["../../.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/product-main-media/product-main-media.js", "../../.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/product-main-media/product-main-media-utils.js"],
  "sourcesContent": ["import { jsx as _jsx, jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { ExternalVideo, ModelViewer, Video } from '@shopify/hydrogen';\nimport { createElement } from 'react';\nimport { useSettings } from \"../../../hooks/use-settings\";\nimport { useProduct } from \"../../../hooks/use-shopify-data\";\nimport { elementAttr } from \"../../../utils/template-helpers/element-attr\";\nimport { productMainMediaUtils } from './product-main-media-utils';\nexport const ProductMainMedia = ({ element }) => {\n    const { settings } = element;\n    const { getObjectFit, getRatio, imageZoomTag, ratioClass } = productMainMediaUtils({ element });\n    const { product } = useProduct(element.id);\n    const { globalSettings: global } = useSettings();\n    const globalPlaceholder = global?.placeholderImage?.['product-image']?.url;\n    const defaultPlaceholder = 'https://cdn.shopify.com/s/files/1/0677/7900/2622/files/Product-placeholder.svg?v=1717753235';\n    if (!product) {\n        return null;\n    }\n    function renderLoading() {\n        const loaderType = global?.imageLoader?.type ?? 'loader-1';\n        const loaderColor = global?.imageLoader?.color ?? '#000';\n        const loaderBackgroundColor = global?.imageLoader?.backgroundColor ?? 'rgba(0, 0, 0, 0.1)';\n        const loaderDuration = global?.imageLoader?.duration?.value ?? 1600;\n        const loaderSize = global?.imageLoader?.size?.value ?? 40;\n        switch (loaderType) {\n            case 'loader-1':\n                return (_jsx(\"div\", { className: \"xb-image__overlay xo-lazyload-overlay\", children: _jsx(\"div\", { className: \"xb-image__loading\", style: { '--xb-image-loading-background': loaderBackgroundColor }, children: _jsx(\"div\", { className: \"xo-loader-1\", style: { '--color': loaderColor, '--duration': loaderDuration, '--size': loaderSize }, children: _jsx(\"span\", {}) }) }) }));\n            case 'loader-2':\n                const loaderSize2 = Math.round(loaderSize / 2);\n                return (_jsx(\"div\", { className: \"xb-image__overlay xo-lazyload-overlay\", children: _jsx(\"div\", { className: \"xb-image__loading\", style: { '--xb-image-loading-background': loaderBackgroundColor }, children: _jsx(\"div\", { className: \"xo-loader-2\", style: { '--color': loaderColor, '--duration': loaderDuration, '--stroke-width': 2, '--size': loaderSize2 }, children: _jsx(\"div\", { children: _jsx(\"span\", {}) }) }) }) }));\n            case 'loader-3':\n                const loaderSize3 = Math.round(loaderSize / 4);\n                return (_jsx(\"div\", { className: \"xb-image__overlay xo-lazyload-overlay\", children: _jsx(\"div\", { className: \"xb-image__loading\", style: { '--xb-image-loading-background': loaderBackgroundColor }, children: _jsx(\"div\", { className: \"xo-loader-3\", style: { '--color': loaderColor, '--duration': loaderDuration, '--size': loaderSize3 }, children: _jsx(\"span\", {}) }) }) }));\n        }\n    }\n    const renderImage = (image) => {\n        switch (settings.$mediaClickAction) {\n            case 'click':\n                return (_jsxs(\"a\", { href: `product/${product.handle}`, \"aria-label\": image.altText, children: [_jsx(\"img\", { is: \"xo-lazyload\", \"xo-src\": image?.url, loading: \"lazy\", alt: image?.altText ?? product.title, width: image?.width, height: image?.height, \"xo-intrinsic-width\": image?.width, \"xo-intrinsic-height\": image?.height, \"xo-fallback-width\": \"400\" }), renderLoading()] }));\n            case 'gallery':\n                return _jsx(\"xo-gallery-item\", { \"xo-thumb-src\": image?.url, \"xo-src\": image?.url });\n            default:\n                return (_jsxs(\"div\", { children: [_jsx(\"img\", { is: \"xo-lazyload\", \"xo-src\": image?.url, loading: \"lazy\", alt: image?.altText ?? product.title, width: image?.width, height: image?.height, \"xo-intrinsic-width\": image?.width, \"xo-intrinsic-height\": image?.height, \"xo-fallback-width\": \"400\" }), renderLoading()] }));\n        }\n    };\n    return (_jsx(\"div\", { className: \"xb-product-media__main\", children: _jsx(\"xo-carousel-inner\", { children: _jsxs(\"xo-carousel-list\", { children: [!!product.media?.nodes?.length &&\n                        product.media?.nodes?.map(media => {\n                            const ratio = media.__typename === 'MediaImage' && !!media?.image?.width && !!media?.image?.height ? media?.image?.width / media?.image?.height : 1;\n                            return (_jsxs(\"xo-carousel-slide\", { children: [media.mediaContentType === 'IMAGE' && media.__typename === 'MediaImage' && (_jsx(\"div\", { ...elementAttr(element, {\n                                            classNames: ['xb-product-media__main-item', ratioClass, settings.static?.class, settings?.modifier?.handle],\n                                            style: {\n                                                ...getRatio(),\n                                                ...getObjectFit(),\n                                            },\n                                        }), children: createElement(imageZoomTag, {\n                                            'xo-zoom': '3',\n                                            'xo-zoom-src': '',\n                                            style: { width: '100%', '--xb-product-media-aspect-ratio-original': ratio },\n                                        }, renderImage(media?.image)) })), media.mediaContentType === 'EXTERNAL_VIDEO' && media.__typename === 'ExternalVideo' && (_jsx(\"div\", { ...elementAttr(element, {\n                                            classNames: ['xb-product-media__main-item', ratioClass, settings.static?.class, settings?.modifier?.handle],\n                                        }), children: _jsx(ExternalVideo, { data: media }) })), media.mediaContentType === 'MODEL_3D' && media.__typename === 'Model3d' && (_jsx(\"div\", { ...elementAttr(element, {\n                                            classNames: ['xb-product-media__main-item', ratioClass, settings.static?.class, settings?.modifier?.handle],\n                                        }), children: _jsx(ModelViewer, { data: media }) })), media.mediaContentType === 'VIDEO' && media.__typename === 'Video' && (_jsx(\"div\", { ...elementAttr(element, {\n                                            classNames: ['xb-product-media__main-item', ratioClass, settings.static?.class, settings?.modifier?.handle],\n                                        }), children: _jsx(Video, { data: media }) }))] }, media.id));\n                        }), !product.media?.nodes?.length && (_jsx(\"xo-carousel-slide\", { children: _jsx(\"div\", { ...elementAttr(element, {\n                                classNames: ['xb-product-media__main-item', ratioClass, settings.static?.class, settings?.modifier?.handle],\n                                style: { ...getRatio(), ...getObjectFit() },\n                            }), children: _jsx(\"img\", { is: \"xo-lazyload\", \"xo-src\": globalPlaceholder ? globalPlaceholder : defaultPlaceholder, loading: \"lazy\", alt: product.title, width: \"300\", height: \"300\", \"xo-intrinsic-width\": \"300\", \"xo-intrinsic-height\": \"300\", \"xo-fallback-width\": \"300\" }) }) }))] }) }) }));\n};\n", "import { Style } from \"../../../utils/template-helpers/style\";\nexport function productMainMediaUtils({ element }) {\n    const { settings } = element;\n    const mediaHeightDesktop = settings.mediaHeight.desktop?.value;\n    const mediaHeightTablet = settings.mediaHeight.tablet?.value ?? mediaHeightDesktop;\n    const mediaHeightMobile = settings.mediaHeight.mobile?.value ?? mediaHeightDesktop;\n    function getRatio() {\n        if (settings.mediaRatio === 'square') {\n            const ratio = Style.create({\n                '--xb-product-media-aspect-ratio': 1,\n            });\n            return ratio.get();\n        }\n        else if (settings.mediaRatio === 'custom') {\n            const ratio = Style.create({\n                '--xb-product-media-aspect-ratio': 'unset',\n                '--xb-product-media-height-desktop': `${mediaHeightDesktop}px`,\n                '--xb-product-media-height-tablet': `${mediaHeightTablet}px`,\n                '--xb-product-media-height-mobile': `${mediaHeightMobile}px`,\n            });\n            return ratio.get();\n        }\n    }\n    function getObjectFit() {\n        if (settings.mediaObjectFit === 'contain') {\n            const objectFit = Style.create({\n                '--xb-product-media-object-fit': 'contain',\n            });\n            return objectFit.get();\n        }\n        const objectFit = Style.create({\n            '--xb-product-media-object-fit': 'cover',\n        });\n        return objectFit.get();\n    }\n    const imageZoomTag = settings.imageZoom === 'yes' ? 'xo-image-zoom' : 'div';\n    const ratioClass = settings.mediaRatio === 'original' ? 'xb-product-media__main-item--original' : '';\n    return {\n        getRatio,\n        getObjectFit,\n        imageZoomTag,\n        ratioClass,\n    };\n}\n"],
  "mappings": "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",
  "names": ["objectFit", "_a", "_b", "_c", "_d", "_e", "_f", "_g", "_jsx", "_jsxs", "_h", "_i", "_j"]
}
