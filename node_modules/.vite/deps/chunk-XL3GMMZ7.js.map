{
  "version": 3,
  "sources": ["../../.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/collection-filtering-horizontal/collection-filtering-horizontal.js", "../../.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/collection-filtering-horizontal/styles.js"],
  "sourcesContent": ["import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { Link, useLocation, useSearchParams } from '@remix-run/react';\nimport { FilterCollectionItem } from \"../../../components/filter-collection-item\";\nimport { PriceRangeFilter } from \"../../../components/price-range-filter\";\nimport { CONFIG } from \"../../../config\";\nimport { useCollectionDetail, useElementSettings } from \"../../../hooks/use-shopify-data\";\nimport { getFilterLink } from \"../../../utils/get-collection-filter\";\nimport { elementAttr } from \"../../../utils/template-helpers/element-attr\";\nimport { classNames } from \"../../../utils/class-names\";\nimport './styles';\nexport const CollectionFilteringHorizontal = ({ element }) => {\n    const { settings } = element;\n    const parentSettings = useElementSettings();\n    const data = useCollectionDetail();\n    const [params] = useSearchParams();\n    const location = useLocation();\n    if (!parentSettings || !data || parentSettings.$filterEnabled !== 'yes') {\n        return null;\n    }\n    const { appliedFilters, collection, collections } = data;\n    if (!collection) {\n        return null;\n    }\n    const filterMarkup = (filter, option) => {\n        switch (filter.type) {\n            case 'PRICE_RANGE':\n                const priceFilter = params.get(`${CONFIG.collectionPage.filterUrlPrefix}price`);\n                const price = priceFilter ? JSON.parse(priceFilter) : undefined;\n                const min = isNaN(Number(price?.min)) ? undefined : Number(price?.min);\n                const max = isNaN(Number(price?.max)) ? undefined : Number(price?.max);\n                return _jsx(PriceRangeFilter, { min: min, max: max });\n            default:\n                const to = getFilterLink(option.input, params, location);\n                const isActive = appliedFilters.some(fil => JSON.stringify(fil.filter) === option.input);\n                const activeClass = isActive ? 'xb-field-checkbox-1--active' : '';\n                return (_jsxs(Link, { className: classNames('xb-field-checkbox-1', activeClass), prefetch: \"intent\", to: to, style: {\n                        '--icon-size': '16px',\n                    }, children: [_jsx(\"span\", { className: \"xb-field-checkbox-1__item\", children: _jsx(\"span\", { className: \"xb-field-checkbox-1__icon\", children: _jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: \"20\", viewBox: \"0 0 24 24\", fill: \"none\", stroke: \"currentColor\", strokeWidth: 2, strokeLinecap: \"round\", strokeLinejoin: \"round\", children: _jsx(\"polyline\", { points: \"20 6 9 17 4 12\" }) }) }) }), _jsxs(\"span\", { className: \"xb-field-checkbox-1__label\", children: [_jsx(\"span\", { children: option.label }), parentSettings.$numberCountEnabled == 'yes' && _jsxs(\"div\", { children: [\"(\", option.count, \")\"] })] })] }));\n        }\n    };\n    return (_jsxs(\"div\", { ...elementAttr(element, {\n            classNames: ['xb-collection-filtering-horizontal', settings?.modifier?.handle, settings.static?.class],\n        }), children: [_jsxs(\"div\", { className: \"xb-fieldset-popover\", children: [_jsxs(\"xo-popover-trigger\", { class: \"xb-fieldset-popover__trigger\", \"xo-name\": element.id, tabIndex: 0, role: \"button\", children: [_jsx(\"div\", { className: \"xb-fieldset-popover__label\", children: \"Collections\" }), _jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: \"15\", viewBox: \"0 0 24 24\", fill: \"none\", stroke: \"currentColor\", strokeWidth: 2, strokeLinecap: \"round\", strokeLinejoin: \"round\", children: _jsx(\"polyline\", { points: \"6 9 12 15 18 9\" }) })] }), _jsx(\"xo-popover\", { \"xo-placement\": \"bottom-left\", \"xo-name\": element.id, \"xo-portal\": true, children: _jsx(\"div\", { className: \"xb-fieldset-popover__popover\", children: _jsx(\"div\", { className: \"xb-fieldset-popover__content xb-scrollbar\", children: collections.map(collection => {\n                                    return _jsx(FilterCollectionItem, { collection: collection }, collection.handle);\n                                }) }) }) })] }), collection?.products?.filters?.map(filter => {\n                const name = filter.label.toLocaleLowerCase();\n                if (name === 'category') {\n                    return null;\n                }\n                return (_jsx(\"div\", { className: \"xb-collapse\", children: _jsxs(\"div\", { className: \"xb-fieldset-popover\", children: [_jsxs(\"xo-popover-trigger\", { class: \"xb-fieldset-popover__trigger\", \"xo-name\": `xb-fieldset-popover-${filter.id}`, children: [_jsx(\"div\", { className: \"xb-fieldset-popover__label\", children: filter.label }), _jsx(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", width: \"15\", viewBox: \"0 0 24 24\", fill: \"none\", stroke: \"currentColor\", strokeWidth: 2, strokeLinecap: \"round\", strokeLinejoin: \"round\", children: _jsx(\"polyline\", { points: \"6 9 12 15 18 9\" }) })] }), _jsx(\"xo-popover\", { \"xo-name\": `xb-fieldset-popover-${filter.id}`, \"xo-placement\": \"bottom-left\", \"xo-portal\": true, style: { opacity: 0 }, children: _jsxs(\"div\", { className: \"xb-fieldset-popover__popover xb-scrollbar\", children: [_jsx(\"div\", { className: \"xb-fieldset-popover__heading\", children: filter.type === 'PRICE_RANGE'\n                                                ? (() => {\n                                                    const priceFilter = params.get(`${CONFIG.collectionPage.filterUrlPrefix}price`);\n                                                    const price = priceFilter ? JSON.parse(priceFilter) : undefined;\n                                                    const max = isNaN(Number(price?.max)) ? undefined : Number(price?.max);\n                                                    return (_jsxs(_Fragment, { children: [_jsxs(\"div\", { className: \"xb-fieldset-popover__caption\", children: [\"The highest price is \", max] }), _jsx(\"div\", { className: \"xb-fieldset-popover__caption-icon\", children: \"Reset\" })] }));\n                                                })()\n                                                : (() => {\n                                                    const count = filter?.values?.filter?.(option => appliedFilters.some(fil => JSON.stringify(fil.filter) === option.input))?.length ?? 0;\n                                                    return (_jsxs(_Fragment, { children: [_jsxs(\"div\", { className: \"xb-fieldset-popover__caption\", children: [count, \" selected\"] }), _jsx(Link, { to: location.pathname, className: \"xb-fieldset-popover__caption-icon\", children: \"Clear\" })] }));\n                                                })() }), _jsx(\"div\", { className: \"xb-fieldset-popover__content xb-scrollbar\", children: filter?.values?.map(option => {\n                                                return _jsx(\"div\", { children: filterMarkup(filter, option) }, option.id);\n                                            }) })] }) })] }) }, filter.id));\n            })] }));\n};\n", "import './collection-filtering-horizontal.css';\nimport './collection-filtering-horizontal.xb-collection-filtering-horizontal--modifier-01.css';\n"],
  "mappings": "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",
  "names": ["_jsx", "_jsxs", "collection", "_a", "_Fragment", "_b", "_c"]
}
