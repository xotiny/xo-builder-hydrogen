import {
  useArticle
} from "./chunk-SSTWVKXD.js";
import {
  useSettings
} from "./chunk-OFJGWOBY.js";
import {
  Style
} from "./chunk-PEYES2GH.js";
import {
  require_jsx_runtime
} from "./chunk-3YQ7MRFA.js";
import {
  elementAttr
} from "./chunk-YPUMDGBE.js";
import {
  require_react
} from "./chunk-FO5G5QMT.js";
import {
  __toESM
} from "./chunk-DNCPQDPH.js";

// node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/article-image/article-image.js
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);
var import_react = __toESM(require_react(), 1);

// node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/article-image/article-image-utils.js
function articleImageUtils({ element }) {
  var _a, _b, _c;
  const { settings } = element;
  const mediaHeightDesktop = (_a = settings.mediaHeight.desktop) == null ? void 0 : _a.value;
  const mediaHeightTablet = ((_b = settings.mediaHeight.tablet) == null ? void 0 : _b.value) ?? mediaHeightDesktop;
  const mediaHeightMobile = ((_c = settings.mediaHeight.mobile) == null ? void 0 : _c.value) ?? mediaHeightTablet;
  function getHeightUnit(screen) {
    var _a2, _b2, _c2, _d, _e, _f;
    if (screen === "tablet") {
      return settings.mediaHeight.tablet ? (_a2 = settings.mediaHeight.tablet) == null ? void 0 : _a2.unit : (_b2 = settings.mediaHeight.desktop) == null ? void 0 : _b2.unit;
    }
    if (screen === "mobile") {
      return settings.mediaHeight.mobile ? (_c2 = settings.mediaHeight.mobile) == null ? void 0 : _c2.unit : settings.mediaHeight.tablet ? (_d = settings.mediaHeight.tablet) == null ? void 0 : _d.unit : (_e = settings.mediaHeight.desktop) == null ? void 0 : _e.unit;
    }
    return (_f = settings.mediaHeight.desktop) == null ? void 0 : _f.unit;
  }
  function getRatio() {
    var _a2;
    if (settings.mediaRatio === "square") {
      const ratio = Style.create({
        "--xb-article-image-aspect-ratio-desktop": 1,
        "--xb-article-image-aspect-ratio-tablet": 1,
        "--xb-article-image-aspect-ratio-mobile": 1
      });
      return ratio.get();
    } else if (settings.mediaRatio === "custom") {
      const ratio = Style.create({});
      if (((_a2 = settings.mediaHeight.desktop) == null ? void 0 : _a2.unit) === "%") {
        ratio.set({
          "--xb-article-image-aspect-ratio-desktop": `100 / ${mediaHeightDesktop}`
        });
      } else {
        ratio.set({
          "--xb-article-image-aspect-ratio-desktop": "unset",
          "--xb-article-image-height-desktop": `${mediaHeightDesktop}px`
        });
      }
      if (getHeightUnit("tablet") === "%") {
        ratio.set({
          "--xb-article-image-aspect-ratio-tablet": `100 / ${mediaHeightTablet}`
        });
      } else {
        ratio.set({
          "--xb-article-image-aspect-ratio-tablet": "unset",
          "--xb-article-image-height-tablet": `${mediaHeightTablet}px`
        });
      }
      if (getHeightUnit("mobile") === "%") {
        ratio.set({
          "--xb-article-image-aspect-ratio-mobile": `100 / ${mediaHeightMobile}`
        });
      } else {
        ratio.set({
          "--xb-article-image-aspect-ratio-mobile": "unset",
          "--xb-article-image-height-mobile": `${mediaHeightMobile}px`
        });
      }
      return ratio.get();
    }
  }
  function getObjectRatio() {
    if (settings.mediaObjectFit === "contain") {
      return Style.create({
        "--xb-article-image-object-fit": "contain"
      }).get();
    }
    return Style.create({
      "--xb-article-image-object-fit": "cover"
    }).get();
  }
  const tagName = settings.$enableLink === "yes" ? "a" : "div";
  return {
    tagName,
    getRatio,
    getObjectRatio
  };
}

// node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/article-image/styles.js
import "/Users/vandoan/Documents/code/hydrogen/xo-builder-hydrogen/node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/article-image/article-image.css";

// node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/article-image/article-image.js
var ArticleImage = ({ element }) => {
  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;
  const { settings } = element;
  const article = useArticle(element.id);
  const { tagName, getRatio, getObjectRatio } = articleImageUtils({ element });
  const { globalSettings: global } = useSettings();
  const globalPlaceholder = (_b = (_a = global == null ? void 0 : global.placeholderImage) == null ? void 0 : _a["article-image"]) == null ? void 0 : _b.url;
  const defaultPlaceholder = "https://cdn.shopify.com/s/files/1/0677/7900/2622/files/Article-placeholder.svg?v=1717754370";
  const classLink = settings.$enableLink === "yes" ? "xb-link" : "";
  const currentPlaceholder = globalPlaceholder ? globalPlaceholder : defaultPlaceholder;
  function renderLoading() {
    var _a2, _b2, _c2, _d2, _e2, _f2, _g2;
    const loaderType = ((_a2 = global == null ? void 0 : global.imageLoader) == null ? void 0 : _a2.type) ?? "loader-1";
    const loaderColor = ((_b2 = global == null ? void 0 : global.imageLoader) == null ? void 0 : _b2.color) ?? "#000";
    const loaderBackgroundColor = ((_c2 = global == null ? void 0 : global.imageLoader) == null ? void 0 : _c2.backgroundColor) ?? "rgba(0, 0, 0, 0.1)";
    const loaderDuration = ((_e2 = (_d2 = global == null ? void 0 : global.imageLoader) == null ? void 0 : _d2.duration) == null ? void 0 : _e2.value) ?? 1600;
    const loaderSize = ((_g2 = (_f2 = global == null ? void 0 : global.imageLoader) == null ? void 0 : _f2.size) == null ? void 0 : _g2.value) ?? 40;
    switch (loaderType) {
      case "loader-1":
        return (0, import_jsx_runtime.jsx)("div", { className: "xb-image__overlay xo-lazyload-overlay", children: (0, import_jsx_runtime.jsx)("div", { className: "xb-image__loading", style: { "--xb-image-loading-background": loaderBackgroundColor }, children: (0, import_jsx_runtime.jsx)("div", { className: "xo-loader-1", style: { "--color": loaderColor, "--duration": loaderDuration, "--size": loaderSize }, children: (0, import_jsx_runtime.jsx)("span", {}) }) }) });
      case "loader-2":
        const loaderSize2 = Math.round(loaderSize / 2);
        return (0, import_jsx_runtime.jsx)("div", { className: "xb-image__overlay xo-lazyload-overlay", children: (0, import_jsx_runtime.jsx)("div", { className: "xb-image__loading", style: { "--xb-image-loading-background": loaderBackgroundColor }, children: (0, import_jsx_runtime.jsx)("div", { className: "xo-loader-2", style: { "--color": loaderColor, "--duration": loaderDuration, "--stroke-width": 2, "--size": loaderSize2 }, children: (0, import_jsx_runtime.jsx)("div", { children: (0, import_jsx_runtime.jsx)("span", {}) }) }) }) });
      case "loader-3":
        const loaderSize3 = Math.round(loaderSize / 4);
        return (0, import_jsx_runtime.jsx)("div", { className: "xb-image__overlay xo-lazyload-overlay", children: (0, import_jsx_runtime.jsx)("div", { className: "xb-image__loading", style: { "--xb-image-loading-background": loaderBackgroundColor }, children: (0, import_jsx_runtime.jsx)("div", { className: "xo-loader-3", style: { "--color": loaderColor, "--duration": loaderDuration, "--size": loaderSize3 }, children: (0, import_jsx_runtime.jsx)("span", {}) }) }) });
    }
  }
  if (!article) {
    return null;
  }
  return (0, import_react.createElement)(tagName, {
    ...elementAttr(element, {
      classNames: ["xb-article-image", "xb-image", classLink, (_c = settings.static) == null ? void 0 : _c.class, (_d = settings == null ? void 0 : settings.modifier) == null ? void 0 : _d.handle],
      style: {
        ...getRatio(),
        ...getObjectRatio()
      }
    }),
    ...settings.$enableLink !== "no" ? { href: `/blogs/${article.blog.handle}/${article.handle}` } : {}
  }, (0, import_jsx_runtime.jsxs)(import_jsx_runtime.Fragment, { children: [(0, import_jsx_runtime.jsx)("img", { is: "xo-lazyload", "xo-src": ((_e = article == null ? void 0 : article.image) == null ? void 0 : _e.url) ? article.image.url : currentPlaceholder, loading: "lazy", alt: ((_f = article.image) == null ? void 0 : _f.altText) ?? article.title, width: ((_g = article.image) == null ? void 0 : _g.width) ?? 300, height: ((_h = article.image) == null ? void 0 : _h.height) ?? 300, "xo-intrinsic-width": ((_i = article.image) == null ? void 0 : _i.width) ?? 300, "xo-intrinsic-height": ((_j = article.image) == null ? void 0 : _j.height) ?? 300, "xo-fallback-width": "300" }), renderLoading()] }));
};

export {
  ArticleImage
};
//# sourceMappingURL=chunk-JNICGEQU.js.map
