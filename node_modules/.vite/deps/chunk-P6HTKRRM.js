import {
  useElementSettings
} from "./chunk-SSTWVKXD.js";
import {
  Link,
  useLocation,
  useSearchParams
} from "./chunk-Z267FA2X.js";
import {
  require_jsx_runtime
} from "./chunk-3YQ7MRFA.js";
import {
  elementAttr
} from "./chunk-YPUMDGBE.js";
import {
  classNames
} from "./chunk-AVF5UQVT.js";
import {
  __toESM
} from "./chunk-DNCPQDPH.js";

// node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/collection-filter-sorting/collection-filter-sorting.js
var import_jsx_runtime = __toESM(require_jsx_runtime(), 1);

// node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/collection-filter-sorting/styles.js
import "/Users/vandoan/Documents/code/hydrogen/xo-builder-hydrogen/node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/collection-filter-sorting/collection-filter-sorting.css";

// node_modules/.pnpm/@xotiny+xb-react-elements@1.1.7_@remix-run+react@2.15.3_react-dom@18.3.1_react@18.3.1__react@_de3647dslfchm23rzktcfpukke/node_modules/@xotiny/xb-react-elements/dist/elements/shopify/collection-filter-sorting/collection-filter-sorting.js
var CollectionFilterSorting = ({ element }) => {
  var _a, _b;
  const { settings } = element;
  const parentSettings = useElementSettings();
  const items = [
    { label: "Featured", key: "featured" },
    {
      label: "Best Selling",
      key: "best-selling"
    },
    {
      label: "Alphabetically, A-Z",
      key: "title-ascending"
    },
    {
      label: "Alphabetically, Z-A",
      key: "title-descending"
    },
    {
      label: "Price, low to high",
      key: "price-low-high"
    },
    {
      label: "Price, high to low",
      key: "price-high-low"
    },
    {
      label: "Date, old to new",
      key: "oldest"
    },
    {
      label: "Date, new to old",
      key: "newest"
    }
  ];
  const [params] = useSearchParams();
  const location = useLocation();
  const activeItem = items.find((item) => item.key === params.get("sort")) ?? items[0];
  if (parentSettings.$sortEnabled !== "yes") {
    return;
  }
  const getSortLink = (sort, params2, location2) => {
    const paramsClone = new URLSearchParams(params2);
    paramsClone.set("sort", sort);
    return `${location2.pathname}?${paramsClone.toString()}`;
  };
  return (0, import_jsx_runtime.jsx)("div", { ...elementAttr(element, {
    classNames: ["xb-collection-filter-sorting", (_a = settings == null ? void 0 : settings.modifier) == null ? void 0 : _a.handle, (_b = settings.static) == null ? void 0 : _b.class]
  }), children: (0, import_jsx_runtime.jsxs)("div", { className: "xb-field-select-custom", children: [(0, import_jsx_runtime.jsxs)("xo-popover-trigger", { class: "xb-field-select-custom__trigger", tabIndex: 0, role: "button", "xo-name": "xb-collection-filter-sorting", children: [(0, import_jsx_runtime.jsx)("div", { className: "xb-field-select-custom__name", children: activeItem == null ? void 0 : activeItem.label }), (0, import_jsx_runtime.jsx)("svg", { xmlns: "http://www.w3.org/2000/svg", width: "15", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round", children: (0, import_jsx_runtime.jsx)("polyline", { points: "6 9 12 15 18 9" }) })] }), (0, import_jsx_runtime.jsx)("xo-popover", { "xo-placement": "bottom-right", "xo-portal": true, "xo-name": "xb-collection-filter-sorting", children: (0, import_jsx_runtime.jsx)("div", { className: "xb-field-select-custom__popover xb-scrollbar", children: items.map((item) => {
    const isActive = (activeItem == null ? void 0 : activeItem.key) === item.key;
    return (0, import_jsx_runtime.jsxs)(Link, { className: classNames("xb-field-select-custom__check", isActive ? "xb-field-select-custom__check--active" : ""), to: getSortLink(item.key, params, location), children: [(0, import_jsx_runtime.jsx)("span", { className: "xb-field-select-custom__icon", children: (0, import_jsx_runtime.jsx)("svg", { xmlns: "http://www.w3.org/2000/svg", width: "20", viewBox: "0 0 24 24", fill: "none", stroke: "currentColor", strokeWidth: 2, strokeLinecap: "round", strokeLinejoin: "round", children: (0, import_jsx_runtime.jsx)("polyline", { points: "20 6 9 17 4 12" }) }) }), (0, import_jsx_runtime.jsx)("span", { className: "xb-field-select-custom__label", children: item.label })] }, item.label);
  }) }) })] }) });
};

export {
  CollectionFilterSorting
};
//# sourceMappingURL=chunk-P6HTKRRM.js.map
