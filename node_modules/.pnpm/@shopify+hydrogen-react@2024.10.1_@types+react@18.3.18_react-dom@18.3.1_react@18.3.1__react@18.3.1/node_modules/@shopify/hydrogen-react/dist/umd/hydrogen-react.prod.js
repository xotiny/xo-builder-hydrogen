(function(E,c){typeof exports=="object"&&typeof module<"u"?c(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],c):(E=typeof globalThis<"u"?globalThis:E||self,c(E.hydrogenreact={},E.React))})(this,function(E,c){"use strict";function tr(e){const t=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(e){for(const r in e)if(r!=="default"){const n=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(t,r,n.get?n:{enumerable:!0,get:()=>e[r]})}}return t.default=e,Object.freeze(t)}const k=tr(c);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */function We(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n,a,i=r.call(e),s=[];try{for(;(t===void 0||t-- >0)&&!(n=i.next()).done;)s.push(n.value)}catch(o){a={error:o}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(a)throw a.error}}return s}var te;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})(te||(te={}));var Ze={type:"xstate.init"};function Re(e){return e===void 0?[]:[].concat(e)}function ne(e){return{type:"xstate.assign",assignment:e}}function Ke(e,t){return typeof(e=typeof e=="string"&&t&&t[e]?t[e]:e)=="string"?{type:e}:typeof e=="function"?{type:e.name,exec:e}:e}function Ce(e){return function(t){return e===t}}function Je(e){return typeof e=="string"?{type:e}:e}function Qe(e,t){return{value:e,context:t,actions:[],changed:!1,matches:Ce(e)}}function Xe(e,t,r){var n=t,a=!1;return[e.filter(function(i){if(i.type==="xstate.assign"){a=!0;var s=Object.assign({},n);return typeof i.assignment=="function"?s=i.assignment(n,r):Object.keys(i.assignment).forEach(function(o){s[o]=typeof i.assignment[o]=="function"?i.assignment[o](n,r):i.assignment[o]}),n=s,!1}return!0}),n,a]}function ze(e,t){t===void 0&&(t={});var r=We(Xe(Re(e.states[e.initial].entry).map(function(s){return Ke(s,t.actions)}),e.context,Ze),2),n=r[0],a=r[1],i={config:e,_options:t,initialState:{value:e.initial,actions:n,context:a,matches:Ce(e.initial)},transition:function(s,o){var u,l,f=typeof s=="string"?{value:s,context:e.context}:s,g=f.value,y=f.context,d=Je(o),h=e.states[g];if(h.on){var S=Re(h.on[d.type]);try{for(var T=function(U){var ue=typeof Symbol=="function"&&Symbol.iterator,_e=ue&&U[ue],Se=0;if(_e)return _e.call(U);if(U&&typeof U.length=="number")return{next:function(){return U&&Se>=U.length&&(U=void 0),{value:U&&U[Se++],done:!U}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(S),b=T.next();!b.done;b=T.next()){var I=b.value;if(I===void 0)return Qe(g,y);var w=typeof I=="string"?{target:I}:I,v=w.target,m=w.actions,p=m===void 0?[]:m,_=w.cond,P=_===void 0?function(){return!0}:_,R=v===void 0,A=v??g,O=e.states[A];if(P(y,d)){var q=We(Xe((R?Re(p):[].concat(h.exit,p,O.entry).filter(function(U){return U})).map(function(U){return Ke(U,i._options.actions)}),y,d),3),D=q[0],H=q[1],ee=q[2],Ee=v??g;return{value:Ee,context:H,actions:D,changed:v!==g||D.length>0||ee,matches:Ce(Ee)}}}}catch(U){u={error:U}}finally{try{b&&!b.done&&(l=T.return)&&l.call(T)}finally{if(u)throw u.error}}}return Qe(g,y)}};return i}var et=function(e,t){return e.actions.forEach(function(r){var n=r.exec;return n&&n(e.context,t)})};function rr(e){var t=e.initialState,r=te.NotStarted,n=new Set,a={_machine:e,send:function(i){r===te.Running&&(t=e.transition(t,i),et(t,Je(i)),n.forEach(function(s){return s(t)}))},subscribe:function(i){return n.add(i),i(t),{unsubscribe:function(){return n.delete(i)}}},start:function(i){if(i){var s=typeof i=="object"?i:{context:e.config.context,value:i};t={value:s.value,actions:[],context:s.context,matches:Ce(s.value)}}else t=e.initialState;return r=te.Running,et(t,Ze),a},stop:function(){return r=te.Stopped,n.clear(),a},get state(){return t},get status(){return r}};return a}var nr=c.useLayoutEffect,tt={exports:{}},rt={},nt={exports:{}},at={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ae=c;function ar(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ir=typeof Object.is=="function"?Object.is:ar,or=ae.useState,sr=ae.useEffect,cr=ae.useLayoutEffect,ur=ae.useDebugValue;function lr(e,t){var r=t(),n=or({inst:{value:r,getSnapshot:t}}),a=n[0].inst,i=n[1];return cr(function(){a.value=r,a.getSnapshot=t,De(a)&&i({inst:a})},[e,r,t]),sr(function(){return De(a)&&i({inst:a}),e(function(){De(a)&&i({inst:a})})},[e]),ur(r),r}function De(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!ir(e,r)}catch{return!0}}function dr(e,t){return t()}var fr=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?dr:lr;at.useSyncExternalStore=ae.useSyncExternalStore!==void 0?ae.useSyncExternalStore:fr,nt.exports=at;var hr=nt.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ae=c,gr=hr;function yr(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var mr=typeof Object.is=="function"?Object.is:yr,pr=gr.useSyncExternalStore,Er=Ae.useRef,_r=Ae.useEffect,Sr=Ae.useMemo,Tr=Ae.useDebugValue;rt.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var i=Er(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=Sr(function(){function u(d){if(!l){if(l=!0,f=d,d=n(d),a!==void 0&&s.hasValue){var h=s.value;if(a(h,d))return g=h}return g=d}if(h=g,mr(f,d))return h;var S=n(d);return a!==void 0&&a(h,S)?h:(f=d,g=S)}var l=!1,f,g,y=r===void 0?null:r;return[function(){return u(t())},y===null?void 0:function(){return u(y())}]},[t,r,n,a]);var o=pr(e,i[0],i[1]);return _r(function(){s.hasValue=!0,s.value=o},[o]),Tr(o),o},tt.exports=rt;var Cr=tt.exports;function Ar(e){var t=k.useRef();return t.current||(t.current={v:e()}),t.current.v}var wr=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),a,i=[],s;try{for(;(t===void 0||t-- >0)&&!(a=n.next()).done;)i.push(a.value)}catch(o){s={error:o}}finally{try{a&&!a.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return i};function br(e){return e}var Ir=function(e){var t;return e.subscribe(function(r){t=r}).unsubscribe(),t};function vr(e,t){var r=c.useRef(),n=wr(Ar(function(){var o=[],u=rr(ze(e.config,t||e._options)),l=u.send;return u.send=function(f){if(u.status===te.NotStarted){o.push(f);return}l(f),r.current=u.state},[u,o]}),2),a=n[0],i=n[1];nr(function(){t&&(a._machine._options=t)});var s=Or(a);return c.useEffect(function(){return a.start(r.current),i.forEach(a.send),r.current=a.state,function(){a.stop()}},[]),s}var Pr=function(e,t){return t.changed===!1};function Or(e){var t=c.useCallback(function(){return Ir(e)},[e]),r=c.useCallback(function(a){var i=e.subscribe(a).unsubscribe;return i},[e]),n=Cr.useSyncExternalStoreWithSelector(r,t,t,br,Pr);return[n,e.send,e]}function Q(e){if(!e){const t=`flattenConnection(): needs a 'connection' to flatten, but received '${e??""}' instead.`;return console.error(t+" Returning an empty array"),[]}return"nodes"in e?e.nodes:"edges"in e&&Array.isArray(e.edges)?e.edges.map(t=>{if(!(t!=null&&t.node))throw new Error("flattenConnection(): Connection edges must contain nodes");return t.node}):[]}const Rr=e=>`
  mutation CartLineAdd(
    $cartId: ID!
    $lines: [CartLineInput!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesAdd(cartId: $cartId, lines: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Dr=e=>`
  mutation CartCreate(
    $input: CartInput!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartCreate(input: $input) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Vr=e=>`
  mutation CartLineRemove(
    $cartId: ID!
    $lines: [ID!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesRemove(cartId: $cartId, lineIds: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Ur=e=>`
  mutation CartLineUpdate(
    $cartId: ID!
    $lines: [CartLineUpdateInput!]!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartLinesUpdate(cartId: $cartId, lines: $lines) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,kr=e=>`
  mutation CartNoteUpdate(
    $cartId: ID!
    $note: String!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartNoteUpdate(cartId: $cartId, note: $note) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Nr=e=>`
  mutation CartBuyerIdentityUpdate(
    $cartId: ID!
    $buyerIdentity: CartBuyerIdentityInput!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartBuyerIdentityUpdate(cartId: $cartId, buyerIdentity: $buyerIdentity) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Mr=e=>`
  mutation CartAttributesUpdate(
    $attributes: [AttributeInput!]!
    $cartId: ID!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartAttributesUpdate(attributes: $attributes, cartId: $cartId) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,Lr=e=>`
  mutation CartDiscountCodesUpdate(
    $cartId: ID!
    $discountCodes: [String!]
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cartDiscountCodesUpdate(cartId: $cartId, discountCodes: $discountCodes) {
      cart {
        ...CartFragment
      }
    }
  }

  ${e}
`,xr=e=>`
  query CartQuery(
    $id: ID!
    $numCartLines: Int = 250
    $country: CountryCode = ZZ
    $language: LanguageCode
  ) @inContext(country: $country, language: $language) {
    cart(id: $id) {
      ...CartFragment
    }
  }

  ${e}
`,Fr=`
  fragment CartFragment on Cart {
    id
    checkoutUrl
    totalQuantity
    buyerIdentity {
      countryCode
      customer {
        id
        email
        firstName
        lastName
        displayName
      }
      email
      phone
    }
    lines(first: $numCartLines) {
      edges {
        node {
          id
          quantity
          attributes {
            key
            value
          }
          cost {
            totalAmount {
              amount
              currencyCode
            }
            compareAtAmountPerQuantity {
              amount
              currencyCode
            }
          }
          merchandise {
            ... on ProductVariant {
              id
              availableForSale
              compareAtPrice {
                ...MoneyFragment
              }
              price {
                ...MoneyFragment
              }
              requiresShipping
              title
              image {
                ...ImageFragment
              }
              product {
                handle
                title
                id
              }
              selectedOptions {
                name
                value
              }
            }
          }
        }
      }
    }
    cost {
      subtotalAmount {
        ...MoneyFragment
      }
      totalAmount {
        ...MoneyFragment
      }
      totalDutyAmount {
        ...MoneyFragment
      }
      totalTaxAmount {
        ...MoneyFragment
      }
    }
    note
    attributes {
      key
      value
    }
    discountCodes {
      code
      applicable
    }
  }

  fragment MoneyFragment on MoneyV2 {
    currencyCode
    amount
  }
  fragment ImageFragment on Image {
    id
    url
    altText
    width
    height
  }
`,ie="2024-10",jr="mock.shop",Ve=e=>e.includes(jr);function $r({storeDomain:e,privateStorefrontToken:t,publicStorefrontToken:r,storefrontApiVersion:n=ie,contentType:a}){if(!e)throw new Error(Ue+"`storeDomain` is required when creating a new Storefront client in production.");n!==ie&&qr(`The Storefront API version that you're using is different than the version this build of Hydrogen React is targeting.
You may run into unexpected errors if these versions don't match. Received version: "${n}"; expected version "${ie}"`);const i=s=>{const o=(s==null?void 0:s.storeDomain)??e;return o.includes("://")?o:`https://${o}`};return{getShopifyDomain:i,getStorefrontApiUrl(s){const o=i(s),u=o+(o.endsWith("/")?"api":"/api");return Ve(o)?u:`${u}/${(s==null?void 0:s.storefrontApiVersion)??n}/graphql.json`},getPrivateTokenHeaders(s){if(!t&&!(s!=null&&s.privateStorefrontToken)&&!Ve(e))throw new Error(Ue+"You did not pass in a `privateStorefrontToken` while using `createStorefrontClient()` or `getPrivateTokenHeaders()`");return{"content-type":((s==null?void 0:s.contentType)??a)==="graphql"?"application/graphql":"application/json","X-SDK-Variant":"hydrogen-react","X-SDK-Variant-Source":"react","X-SDK-Version":n,"Shopify-Storefront-Private-Token":(s==null?void 0:s.privateStorefrontToken)??t??"",...s!=null&&s.buyerIp?{"Shopify-Storefront-Buyer-IP":s.buyerIp}:{}}},getPublicTokenHeaders(s){if(!r&&!(s!=null&&s.publicStorefrontToken)&&!Ve(e))throw new Error(Ue+"You did not pass in a `publicStorefrontToken` while using `createStorefrontClient()` or `getPublicTokenHeaders()`");const o=(s==null?void 0:s.contentType)??a??"json";return it(o,n,(s==null?void 0:s.publicStorefrontToken)??r??"")}}}function it(e,t,r){return{"content-type":e==="graphql"?"application/graphql":"application/json","X-SDK-Variant":"hydrogen-react","X-SDK-Variant-Source":"react","X-SDK-Version":t,"X-Shopify-Storefront-Access-Token":r}}const ot=new Set,Ue="[h2:error:createStorefrontClient] ",qr=(e,t="warn")=>{ot.has(e)||(console[t](`[h2:${t}:createStorefrontClient] `+e),ot.add(e))},st={storeDomain:"test",storefrontToken:"abc123",storefrontApiVersion:ie,countryIsoCode:"US",languageIsoCode:"EN",getStorefrontApiUrl(){return""},getPublicTokenHeaders(){return{}},getShopifyDomain(){return""}},ct=c.createContext(st);function Hr({children:e,...t}){if(!t.countryIsoCode||!t.languageIsoCode||!t.storeDomain||!t.storefrontToken||!t.storefrontApiVersion)throw new Error("Please provide the necessary props to '<ShopifyProvider/>'");t.storefrontApiVersion!==ie&&console.warn(`<ShopifyProvider/>: This version of Hydrogen React is built for Shopify's Storefront API version ${ie}, but it looks like you're using version ${t.storefrontApiVersion}. There may be issues or bugs if you use a mismatched version of Hydrogen React and the Storefront API.`);const r=c.useMemo(()=>{function n(a){const i=(a==null?void 0:a.storeDomain)??t.storeDomain;return i.includes("://")?i:`https://${i}`}return{...t,getPublicTokenHeaders(a){return it(a.contentType,t.storefrontApiVersion,a.storefrontToken??t.storefrontToken)},getShopifyDomain:n,getStorefrontApiUrl(a){const i=n({storeDomain:(a==null?void 0:a.storeDomain)??t.storeDomain});return`${i}${i.endsWith("/")?"":"/"}api/${(a==null?void 0:a.storefrontApiVersion)??t.storefrontApiVersion}/graphql.json`}}},[t]);return React.createElement(ct.Provider,{value:r},e)}function le(){const e=c.useContext(ct);if(!e)throw new Error("'useShop()' must be a descendent of <ShopifyProvider/>");return e}const ke="shopifyCartId",ut="Shopify-Storefront-Id",lt="Shopify-Storefront-Y",dt="Shopify-Storefront-S",X="_shopify_y",z="_shopify_s";var Br=new Set(["domain","path","max-age","expires","samesite","secure","httponly"]);function Yr(e){let t={},r,n,a=0,i=e.split(/;\s*/g),s,o;for(;a<i.length;a++)if(n=i[a],r=n.indexOf("="),~r){if(s=n.substring(0,r++).trim(),o=n.substring(r).trim(),o[0]==='"'&&(o=o.substring(1,o.length-1)),~o.indexOf("%"))try{o=decodeURIComponent(o)}catch{}Br.has(n=s.toLowerCase())?n==="expires"?t.expires=new Date(o):n==="max-age"?t.maxage=+o:t[n]=o:t[s]=o}else(s=n.trim().toLowerCase())&&(s==="httponly"||s==="secure")&&(t[s]=!0);return t}function Gr(e,t,r={}){let n=e+"="+encodeURIComponent(t);return r.expires&&(n+="; Expires="+new Date(r.expires).toUTCString()),r.maxage!=null&&r.maxage>=0&&(n+="; Max-Age="+(r.maxage|0)),r.domain&&(n+="; Domain="+r.domain),r.path&&(n+="; Path="+r.path),r.samesite&&(n+="; SameSite="+r.samesite),(r.secure||r.samesite==="None")&&(n+="; Secure"),r.httponly&&(n+="; HttpOnly"),n}const ft="xxxx-4xxx-xxxx-xxxxxxxxxxxx";function we(){let e="";try{const t=window.crypto,r=new Uint16Array(31);t.getRandomValues(r);let n=0;e=ft.replace(/[x]/g,a=>{const i=r[n]%16,s=a==="x"?i:i&3|8;return n++,s.toString(16)}).toUpperCase()}catch{e=ft.replace(/[x]/g,r=>{const n=Math.random()*16|0;return(r==="x"?n:n&3|8).toString(16)}).toUpperCase()}return`${Wr()}-${e}`}function Wr(){let e=0,t=0;e=new Date().getTime()>>>0;try{t=performance.now()>>>0}catch{t=0}return Math.abs(e+t).toString(16).toLowerCase().padStart(8,"0")}function be(e){const t=Yr(e);return{[X]:t[X]||"",[z]:t[z]||""}}function Zr(){const{storefrontId:e,getPublicTokenHeaders:t,getStorefrontApiUrl:r}=le();return c.useCallback(({query:n,variables:a})=>{const i=t({contentType:"json"});e&&(i[ut]=e);const s=be(document.cookie);return i[lt]=s[X],i[dt]=s[z],fetch(r(),{method:"POST",headers:i,body:JSON.stringify({query:n.toString(),variables:a})}).then(o=>o.json()).catch(o=>({data:void 0,errors:o==null?void 0:o.toString()}))},[t,e,r])}function Kr({numCartLines:e,cartFragment:t,countryCode:r="US",languageCode:n="EN"}){const a=Zr(),i=c.useCallback(h=>a({query:xr(t),variables:{id:h,numCartLines:e,country:r,language:n}}),[a,t,e,r,n]),s=c.useCallback(h=>a({query:Dr(t),variables:{input:h,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),o=c.useCallback((h,S)=>a({query:Rr(t),variables:{cartId:h,lines:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),u=c.useCallback((h,S)=>a({query:Ur(t),variables:{cartId:h,lines:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),l=c.useCallback((h,S)=>a({query:Vr(t),variables:{cartId:h,lines:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),f=c.useCallback((h,S)=>a({query:kr(t),variables:{cartId:h,note:S,numCartLines:e,country:r,language:n}}),[a,t,e,r,n]),g=c.useCallback((h,S)=>a({query:Nr(t),variables:{cartId:h,buyerIdentity:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),y=c.useCallback((h,S)=>a({query:Mr(t),variables:{cartId:h,attributes:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]),d=c.useCallback((h,S)=>a({query:Lr(t),variables:{cartId:h,discountCodes:S,numCartLines:e,country:r,language:n}}),[t,r,a,e,n]);return c.useMemo(()=>({cartFetch:i,cartCreate:s,cartLineAdd:o,cartLineUpdate:u,cartLineRemove:l,noteUpdate:f,buyerIdentityUpdate:g,cartAttributesUpdate:y,discountCodesUpdate:d,cartFragment:t}),[i,s,o,u,l,f,g,y,d,t])}function Y(e,t){return{entry:[...(t==null?void 0:t.entryActions)||[],ne({lastValidCart:r=>r==null?void 0:r.cart}),"onCartActionEntry","onCartActionOptimisticUI",e],on:{RESOLVE:{target:(t==null?void 0:t.resolveTarget)||"idle",actions:[ne({prevCart:r=>r==null?void 0:r.lastValidCart,cart:(r,n)=>{var a;return(a=n==null?void 0:n.payload)==null?void 0:a.cart},rawCartResult:(r,n)=>{var a;return(a=n==null?void 0:n.payload)==null?void 0:a.rawCartResult},errors:r=>{}})]},ERROR:{target:(t==null?void 0:t.errorTarget)||"error",actions:[ne({prevCart:r=>r==null?void 0:r.lastValidCart,cart:r=>r==null?void 0:r.lastValidCart,errors:(r,n)=>{var a;return(a=n==null?void 0:n.payload)==null?void 0:a.errors}})]},CART_COMPLETED:{target:"cartCompleted",actions:ne({prevCart:r=>{},cart:r=>{},lastValidCart:r=>{},rawCartResult:r=>{},errors:r=>{}})}},exit:["onCartActionComplete",...(t==null?void 0:t.exitActions)||[]]}}const de={CART_FETCH:{target:"cartFetching"},CART_CREATE:{target:"cartCreating"},CART_SET:{target:"idle",actions:[ne({rawCartResult:(e,t)=>t.payload.cart,cart:(e,t)=>Ne(t.payload.cart)})]}},ht={CARTLINE_ADD:{target:"cartLineAdding"},CARTLINE_UPDATE:{target:"cartLineUpdating"},CARTLINE_REMOVE:{target:"cartLineRemoving"},NOTE_UPDATE:{target:"noteUpdating"},BUYER_IDENTITY_UPDATE:{target:"buyerIdentityUpdating"},CART_ATTRIBUTES_UPDATE:{target:"cartAttributesUpdating"},DISCOUNT_CODES_UPDATE:{target:"discountCodesUpdating"}};function Jr(e){return ze({id:"Cart",initial:e?"idle":"uninitialized",context:{cart:e&&Ne(e)},states:{uninitialized:{on:de},cartCompleted:{on:de},initializationError:{on:de},idle:{on:{...de,...ht}},error:{on:{...de,...ht}},cartFetching:Y("cartFetchAction",{errorTarget:"initializationError"}),cartCreating:Y("cartCreateAction",{errorTarget:"initializationError"}),cartLineRemoving:Y("cartLineRemoveAction"),cartLineUpdating:Y("cartLineUpdateAction"),cartLineAdding:Y("cartLineAddAction"),noteUpdating:Y("noteUpdateAction"),buyerIdentityUpdating:Y("buyerIdentityUpdateAction"),cartAttributesUpdating:Y("cartAttributesUpdateAction"),discountCodesUpdating:Y("discountCodesUpdateAction")}})}function Qr({numCartLines:e,onCartActionEntry:t,onCartActionOptimisticUI:r,onCartActionComplete:n,data:a,cartFragment:i,countryCode:s,languageCode:o}){const{cartFetch:u,cartCreate:l,cartLineAdd:f,cartLineUpdate:g,cartLineRemove:y,noteUpdate:d,buyerIdentityUpdate:h,cartAttributesUpdate:S,discountCodesUpdate:T}=Kr({numCartLines:e,cartFragment:i,countryCode:s,languageCode:o}),b=c.useMemo(()=>Jr(a),[a]),[I,w,v]=vr(b,{actions:{cartFetchAction:async(m,p)=>{var A;if(p.type!=="CART_FETCH")return;const{data:_,errors:P}=await u((A=p==null?void 0:p.payload)==null?void 0:A.cartId),R=G(p,_==null?void 0:_.cart,P);w(R)},cartCreateAction:async(m,p)=>{var A;if(p.type!=="CART_CREATE")return;const{data:_,errors:P}=await l(p==null?void 0:p.payload),R=G(p,(A=_==null?void 0:_.cartCreate)==null?void 0:A.cart,P);w(R)},cartLineAddAction:async(m,p)=>{var A,O;if(p.type!=="CARTLINE_ADD"||!((A=m==null?void 0:m.cart)!=null&&A.id))return;const{data:_,errors:P}=await f(m.cart.id,p.payload.lines),R=G(p,(O=_==null?void 0:_.cartLinesAdd)==null?void 0:O.cart,P);w(R)},cartLineUpdateAction:async(m,p)=>{var A,O;if(p.type!=="CARTLINE_UPDATE"||!((A=m==null?void 0:m.cart)!=null&&A.id))return;const{data:_,errors:P}=await g(m.cart.id,p.payload.lines),R=G(p,(O=_==null?void 0:_.cartLinesUpdate)==null?void 0:O.cart,P);w(R)},cartLineRemoveAction:async(m,p)=>{var A,O;if(p.type!=="CARTLINE_REMOVE"||!((A=m==null?void 0:m.cart)!=null&&A.id))return;const{data:_,errors:P}=await y(m.cart.id,p.payload.lines),R=G(p,(O=_==null?void 0:_.cartLinesRemove)==null?void 0:O.cart,P);w(R)},noteUpdateAction:async(m,p)=>{var A,O;if(p.type!=="NOTE_UPDATE"||!((A=m==null?void 0:m.cart)!=null&&A.id))return;const{data:_,errors:P}=await d(m.cart.id,p.payload.note),R=G(p,(O=_==null?void 0:_.cartNoteUpdate)==null?void 0:O.cart,P);w(R)},buyerIdentityUpdateAction:async(m,p)=>{var A,O;if(p.type!=="BUYER_IDENTITY_UPDATE"||!((A=m==null?void 0:m.cart)!=null&&A.id))return;const{data:_,errors:P}=await h(m.cart.id,p.payload.buyerIdentity),R=G(p,(O=_==null?void 0:_.cartBuyerIdentityUpdate)==null?void 0:O.cart,P);w(R)},cartAttributesUpdateAction:async(m,p)=>{var A,O;if(p.type!=="CART_ATTRIBUTES_UPDATE"||!((A=m==null?void 0:m.cart)!=null&&A.id))return;const{data:_,errors:P}=await S(m.cart.id,p.payload.attributes),R=G(p,(O=_==null?void 0:_.cartAttributesUpdate)==null?void 0:O.cart,P);w(R)},discountCodesUpdateAction:async(m,p)=>{var A,O;if(p.type!=="DISCOUNT_CODES_UPDATE"||!((A=m==null?void 0:m.cart)!=null&&A.id))return;const{data:_,errors:P}=await T(m.cart.id,p.payload.discountCodes),R=G(p,(O=_==null?void 0:_.cartDiscountCodesUpdate)==null?void 0:O.cart,P);w(R)},...t&&{onCartActionEntry:(m,p)=>{Xr(p)&&t(m,p)}},...r&&{onCartActionOptimisticUI:ne((m,p)=>r(m,p))},...n&&{onCartActionComplete:(m,p)=>{zr(p)&&n(m,p)}}}});return c.useMemo(()=>[I,w,v],[I,w,v])}function Ne(e){return{...e,lines:Q(e==null?void 0:e.lines),note:e.note??void 0}}function G(e,t,r){return r?{type:"ERROR",payload:{errors:r,cartActionEvent:e}}:t?{type:"RESOLVE",payload:{cart:Ne(t),rawCartResult:t,cartActionEvent:e}}:{type:"CART_COMPLETED",payload:{cartActionEvent:e}}}function Xr(e){return e.type==="CART_CREATE"||e.type==="CARTLINE_ADD"||e.type==="CARTLINE_UPDATE"||e.type==="CARTLINE_REMOVE"||e.type==="NOTE_UPDATE"||e.type==="BUYER_IDENTITY_UPDATE"||e.type==="CART_ATTRIBUTES_UPDATE"||e.type==="DISCOUNT_CODES_UPDATE"}function zr(e){return e.type==="RESOLVE"||e.type==="ERROR"||e.type==="CART_COMPLETED"}const gt=c.createContext(null);function oe(){const e=c.useContext(gt);if(!e)throw new Error("Expected a Cart Context, but no Cart Context was found");return e}function en({children:e,numCartLines:t,onCreate:r,onLineAdd:n,onLineRemove:a,onLineUpdate:i,onNoteUpdate:s,onBuyerIdentityUpdate:o,onAttributesUpdate:u,onDiscountCodesUpdate:l,onCreateComplete:f,onLineAddComplete:g,onLineRemoveComplete:y,onLineUpdateComplete:d,onNoteUpdateComplete:h,onBuyerIdentityUpdateComplete:S,onAttributesUpdateComplete:T,onDiscountCodesUpdateComplete:b,data:I,cartFragment:w=Fr,customerAccessToken:v,countryCode:m,languageCode:p}){var Zt,Kt,Jt,Qt,Xt,zt,er;const _=le();if(!_)throw new Error("<CartProvider> needs to be a descendant of <ShopifyProvider>");m=(m??_.countryIsoCode??"US").toUpperCase(),p=(p??_.languageIsoCode??"EN").toUpperCase(),m&&(m=m.toUpperCase());const[P,R]=c.useState(m),[A,O]=c.useState(v),q=c.useRef(!1);(P!==m||A!==v)&&(R(m),O(v),q.current=!1);const[D,H]=Qr({numCartLines:t,data:I,cartFragment:w,countryCode:m,languageCode:p,onCartActionEntry(C,N){try{switch(N.type){case"CART_CREATE":return r==null?void 0:r();case"CARTLINE_ADD":return n==null?void 0:n();case"CARTLINE_REMOVE":return a==null?void 0:a();case"CARTLINE_UPDATE":return i==null?void 0:i();case"NOTE_UPDATE":return s==null?void 0:s();case"BUYER_IDENTITY_UPDATE":return o==null?void 0:o();case"CART_ATTRIBUTES_UPDATE":return u==null?void 0:u();case"DISCOUNT_CODES_UPDATE":return l==null?void 0:l()}}catch(L){console.error("Cart entry action failed",L)}},onCartActionOptimisticUI(C,N){var L,J,M,Te;if(!C.cart)return{...C};switch(N.type){case"CARTLINE_REMOVE":return{...C,cart:{...C.cart,lines:(J=(L=C==null?void 0:C.cart)==null?void 0:L.lines)==null?void 0:J.filter(x=>(x==null?void 0:x.id)&&!N.payload.lines.includes(x==null?void 0:x.id))}};case"CARTLINE_UPDATE":return{...C,cart:{...C.cart,lines:(Te=(M=C==null?void 0:C.cart)==null?void 0:M.lines)==null?void 0:Te.map(x=>{const Ge=N.payload.lines.find(({id:Sa})=>Sa===(x==null?void 0:x.id));return Ge&&Ge.quantity?{...x,quantity:Ge.quantity}:x})}}}return{...C}},onCartActionComplete(C,N){const L=N.payload.cartActionEvent;try{switch(N.type){case"RESOLVE":switch(L.type){case"CART_CREATE":return f==null?void 0:f();case"CARTLINE_ADD":return g==null?void 0:g();case"CARTLINE_REMOVE":return y==null?void 0:y();case"CARTLINE_UPDATE":return d==null?void 0:d();case"NOTE_UPDATE":return h==null?void 0:h();case"BUYER_IDENTITY_UPDATE":return nn(C,L)&&(q.current=!0),S==null?void 0:S();case"CART_ATTRIBUTES_UPDATE":return T==null?void 0:T();case"DISCOUNT_CODES_UPDATE":return b==null?void 0:b()}}}catch(J){console.error("onCartActionComplete failed",J)}}}),ee=c.useRef(!1),[Ee,U]=c.useState(!1),ue=D.matches("cartCompleted"),_e=(D.value==="idle"||D.value==="error"||D.value==="cartCompleted")&&m!==((Jt=(Kt=(Zt=D==null?void 0:D.context)==null?void 0:Zt.cart)==null?void 0:Kt.buyerIdentity)==null?void 0:Jt.countryCode)&&!D.context.errors,Se=c.useRef(!1);c.useEffect(()=>{if(!ee.current&&!Se.current){if(!I&&Me("localStorage")){Se.current=!0;try{const C=window.localStorage.getItem(ke);C&&H({type:"CART_FETCH",payload:{cartId:C}})}catch(C){console.warn("error fetching cartId"),console.warn(C)}}ee.current=!0,U(!0)}},[I,ee,H]),c.useEffect(()=>{!_e||q.current||H({type:"BUYER_IDENTITY_UPDATE",payload:{buyerIdentity:{countryCode:m,customerAccessToken:v}}})},[m,v,_e,q,H]);const B=c.useCallback(C=>{if(!ee.current)return console.warn("Cart isn't ready yet");H(C)},[H]);c.useEffect(()=>{var C,N,L;if((N=(C=D==null?void 0:D.context)==null?void 0:C.cart)!=null&&N.id&&Me("localStorage"))try{window.localStorage.setItem(ke,(L=D.context.cart)==null?void 0:L.id)}catch(J){console.warn("Failed to save cartId to localStorage",J)}},[(Xt=(Qt=D==null?void 0:D.context)==null?void 0:Qt.cart)==null?void 0:Xt.id]),c.useEffect(()=>{if(ue&&Me("localStorage"))try{window.localStorage.removeItem(ke)}catch(C){console.warn("Failed to delete cartId from localStorage",C)}},[ue]);const Ye=c.useCallback(C=>{var N,L;m&&!((N=C.buyerIdentity)!=null&&N.countryCode)&&(C.buyerIdentity==null&&(C.buyerIdentity={}),C.buyerIdentity.countryCode=m),v&&!((L=C.buyerIdentity)!=null&&L.customerAccessToken)&&(C.buyerIdentity==null&&(C.buyerIdentity={}),C.buyerIdentity.customerAccessToken=v),B({type:"CART_CREATE",payload:C})},[m,v,B]),V=rn(D),_a=c.useMemo(()=>{var C,N,L,J;return{...((C=V==null?void 0:V.context)==null?void 0:C.cart)??{lines:[],attributes:[]},status:tn(V.value),error:(N=V==null?void 0:V.context)==null?void 0:N.errors,totalQuantity:((J=(L=V==null?void 0:V.context)==null?void 0:L.cart)==null?void 0:J.totalQuantity)??0,cartCreate:Ye,cartReady:Ee,linesAdd(M){var Te,x;(x=(Te=V==null?void 0:V.context)==null?void 0:Te.cart)!=null&&x.id?B({type:"CARTLINE_ADD",payload:{lines:M}}):Ye({lines:M})},linesRemove(M){B({type:"CARTLINE_REMOVE",payload:{lines:M}})},linesUpdate(M){B({type:"CARTLINE_UPDATE",payload:{lines:M}})},noteUpdate(M){B({type:"NOTE_UPDATE",payload:{note:M}})},buyerIdentityUpdate(M){B({type:"BUYER_IDENTITY_UPDATE",payload:{buyerIdentity:M}})},cartAttributesUpdate(M){B({type:"CART_ATTRIBUTES_UPDATE",payload:{attributes:M}})},discountCodesUpdate(M){B({type:"DISCOUNT_CODES_UPDATE",payload:{discountCodes:M}})},cartFragment:w}},[Ye,Ee,(zt=V==null?void 0:V.context)==null?void 0:zt.cart,(er=V==null?void 0:V.context)==null?void 0:er.errors,V.value,w,B]);return React.createElement(gt.Provider,{value:_a},e)}function tn(e){switch(e){case"uninitialized":case"initializationError":return"uninitialized";case"idle":case"cartCompleted":case"error":return"idle";case"cartFetching":return"fetching";case"cartCreating":return"creating";case"cartLineAdding":case"cartLineRemoving":case"cartLineUpdating":case"noteUpdating":case"buyerIdentityUpdating":case"cartAttributesUpdating":case"discountCodesUpdating":return"updating"}}function rn(e){const[t,r]=c.useTransition(),[n,a]=c.useState(e),i=c.useRef(!1);t&&(i.current=!0);const s=c.useRef(!1);return!t&&i.current&&(s.current=!0),c.useEffect(()=>{r(()=>{s.current||a(e)})},[e]),s.current?e:n}function Me(e){let t;try{t=window[e];const r="__storage_test__";return t.setItem(r,r),t.removeItem(r),!0}catch(r){return!!(r instanceof DOMException&&(r.code===22||r.code===1014||r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0)}}function nn(e,t){var r,n;return!!(t.payload.buyerIdentity.countryCode&&((n=(r=e.cart)==null?void 0:r.buyerIdentity)==null?void 0:n.countryCode)!==t.payload.buyerIdentity.countryCode)}const yt=c.createContext(null);function an({children:e,data:t,initialVariantId:r}){const n=c.useMemo(()=>Q(t.variants??{}),[t.variants]);if(!sn(n))throw new Error("<ProductProvider/> requires 'product.variants.nodes' or 'product.variants.edges'");const a=c.useMemo(()=>on(n),[n]),[i,s]=c.useState(()=>Et(r,n)),[o,u]=c.useState(()=>_t(i));c.useEffect(()=>{const T=Et(r,n);s(T),u(_t(T))},[r,n]);const l=c.useCallback((T,b)=>{u(I=>{const w={...I,[T]:b};return s(pt(n,w)),w})},[u,n]),f=c.useCallback((T,b)=>{const I=pt(n,{...o,[T]:b});return(I==null?void 0:I.availableForSale)??!0},[o,n]),g=c.useMemo(()=>Q(t.sellingPlanGroups??{}).map(T=>({...T,sellingPlans:Q((T==null?void 0:T.sellingPlans)??{})})),[t.sellingPlanGroups]),[y,d]=c.useState(void 0),h=c.useMemo(()=>{var T,b;if(!(!i||!y)){if(!((T=i.sellingPlanAllocations)!=null&&T.nodes)&&!((b=i.sellingPlanAllocations)!=null&&b.edges))throw new Error("<ProductProvider/>: You must include 'sellingPlanAllocations.nodes' or 'sellingPlanAllocations.edges' in your variants in order to calculate selectedSellingPlanAllocation");return Q(i.sellingPlanAllocations).find(I=>{var w;return((w=I==null?void 0:I.sellingPlan)==null?void 0:w.id)===y.id})}},[i,y]),S=c.useMemo(()=>({product:t,variants:n,variantsConnection:t.variants,options:a,selectedVariant:i,setSelectedVariant:s,selectedOptions:o,setSelectedOption:l,setSelectedOptions:u,isOptionInStock:f,selectedSellingPlan:y,setSelectedSellingPlan:d,selectedSellingPlanAllocation:h,sellingPlanGroups:g,sellingPlanGroupsConnection:t.sellingPlanGroups}),[t,f,a,o,y,h,i,g,l,n]);return React.createElement(yt.Provider,{value:S},e)}function mt(){const e=c.useContext(yt);if(!e)throw new Error("'useProduct' must be a child of <ProductProvider />");return e}function pt(e,t){var r,n;if(!(!e.length||((n=(r=e==null?void 0:e[0])==null?void 0:r.selectedOptions)==null?void 0:n.length)!==Object.keys(t).length))return e==null?void 0:e.find(a=>Object.entries(t).every(([i,s])=>{var o;return(o=a==null?void 0:a.selectedOptions)==null?void 0:o.some(u=>(u==null?void 0:u.name)===i&&(u==null?void 0:u.value)===s)}))}function on(e){const t=e.reduce((r,n)=>{var a;if(!n.selectedOptions)throw new Error("'getOptions' requires 'variant.selectedOptions'");return(a=n==null?void 0:n.selectedOptions)==null||a.forEach(i=>{r[(i==null?void 0:i.name)??""]=r[(i==null?void 0:i.name)??""]||new Set,r[(i==null?void 0:i.name)??""].add((i==null?void 0:i.value)??"")}),r},{});return Object.keys(t).map(r=>({name:r,values:Array.from(t[r])}))}function Et(e,t){if(e){const r=t.find(n=>(n==null?void 0:n.id)===e);return r||console.warn("<ProductProvider/> received a 'initialVariantId' prop, but could not actually find a variant with that ID"),r}if(e===null)return null;if(e===void 0)return t.find(r=>r==null?void 0:r.availableForSale)||t[0]}function _t(e){return e!=null&&e.selectedOptions?e.selectedOptions.reduce((t,r)=>(t[(r==null?void 0:r.name)??""]=(r==null?void 0:r.value)??"",t),{}):{}}function sn(e){return!(!e||!Array.isArray(e))}function Ie(e){const{as:t,onClick:r,defaultOnClick:n,children:a,buttonRef:i,...s}=e,o=c.useCallback(l=>{if(r){const f=r(l);if(typeof f=="boolean"&&f===!1||l!=null&&l.defaultPrevented)return}n==null||n(l)},[n,r]),u=t||"button";return React.createElement(u,{ref:i,onClick:o,...s},a)}function cn(e){const[t,r]=c.useState(!1),{variantId:n,quantity:a=1,attributes:i,sellingPlanId:s,onClick:o,children:u,accessibleAddingToCartLabel:l,...f}=e,{status:g,linesAdd:y}=oe(),{selectedVariant:d}=mt(),h=n??(d==null?void 0:d.id)??"",S=n===null||h===""||d===null||t||f.disabled;c.useEffect(()=>{t&&g==="idle"&&r(!1)},[g,t]);const T=c.useCallback(()=>{r(!0),y([{quantity:a,merchandiseId:h||"",attributes:i,sellingPlanId:s}])},[y,a,h,i,s]);return k.createElement(k.Fragment,null,k.createElement(Ie,{...f,disabled:S,onClick:o,defaultOnClick:T},u),l?k.createElement("p",{style:{position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},role:"alert","aria-live":"assertive"},t?l:null):null)}const re={PAGE_VIEW:"PAGE_VIEW",ADD_TO_CART:"ADD_TO_CART",PAGE_VIEW_2:"PAGE_VIEW_2",COLLECTION_VIEW:"COLLECTION_VIEW",PRODUCT_VIEW:"PRODUCT_VIEW",SEARCH_VIEW:"SEARCH_VIEW"},ve={article:"article",blog:"blog",captcha:"captcha",cart:"cart",collection:"collection",customersAccount:"customers/account",customersActivateAccount:"customers/activate_account",customersAddresses:"customers/addresses",customersLogin:"customers/login",customersOrder:"customers/order",customersRegister:"customers/register",customersResetPassword:"customers/reset_password",giftCard:"gift_card",home:"index",listCollections:"list-collections",forbidden:"403",notFound:"404",page:"page",password:"password",product:"product",policy:"policy",search:"search"},St={hydrogen:"hydrogen",headless:"headless"},Tt={hydrogen:"6167201",headless:"12875497473"};function $(e,t){return{schema_id:e,payload:t,metadata:{event_created_at_ms:Date.now()}}}function F(e){const t={id:"",resource:null,resourceId:null,search:"",searchParams:new URLSearchParams,hash:""};if(typeof e!="string")return t;try{const{search:r,searchParams:n,pathname:a,hash:i}=new URL(e),s=a.split("/"),o=s[s.length-1],u=s[s.length-2];return!o||!u?t:{id:`${o}${r}${i}`||"",resource:u??null,resourceId:o||null,search:r,searchParams:n,hash:i}}catch{return t}}function j(e,t){return typeof e!="object"?{}:(Object.entries(e).forEach(([r,n])=>{n&&(t[r]=n)}),t)}function un(e){return typeof document>"u"?(console.error(`${e} should only be used within the useEffect callback or event handlers`),!0):!1}const ln="trekkie_storefront_page_view/1.4",dn="myshopify.dev";function Ct(e){const t=e,{id:r,resource:n}=F(t.resourceId),a=n?n.toLowerCase():void 0;return[$(ln,j({pageType:t.pageType,customerId:parseInt(F(t.customerId).id||"0"),resourceType:a,resourceId:parseInt(r)},fn(t)))]}function fn(e){return{appClientId:e.shopifySalesChannel?Tt[e.shopifySalesChannel]:Tt.headless,isMerchantRequest:hn(e.url),hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",isPersistentCookie:e.hasUserConsent,uniqToken:e.uniqueToken,visitToken:e.visitToken,microSessionId:we(),microSessionCount:1,url:e.url,path:e.path,search:e.search,referrer:e.referrer,title:e.title,shopId:parseInt(F(e.shopId).id),currency:e.currency,contentLanguage:e.acceptedLanguage||"en"}}function hn(e){if(typeof e!="string")return!1;const t=new URL(e).hostname;return t.indexOf(dn)!==-1||t==="localhost"}const gn="2024.10.1",W="custom_storefront_customer_tracking/1.2",At="page_rendered",wt="collection_page_rendered",bt="product_page_rendered",yn="product_added_to_cart",It="search_submitted";function fe(e){return{canonical_url:e.canonicalUrl||e.url,customer_id:parseInt(F(e.customerId).id||"0")}}function mn(e){const t=e,r=fe(t),n=t.pageType,a=[];switch(a.push($(W,j({event_name:At,...r},Z(t)))),n){case ve.collection:a.push($(W,j({event_name:wt,...r,collection_name:t.collectionHandle,collection_id:parseInt(F(t.collectionId).id)},Z(t))));break;case ve.product:a.push($(W,j({event_name:bt,...r,products:Le(t.products),total_value:t.totalValue},Z(t))));break;case ve.search:a.push($(W,j({event_name:It,...r,search_string:t.searchString},Z(t))));break}return a}function pn(e){const t=e,r=fe(t);return[$(W,j({event_name:At,...r},Z(t)))]}function En(e){const t=e,r=fe(t);return[$(W,j({event_name:wt,...r,collection_name:t.collectionHandle,collection_id:parseInt(F(t.collectionId).id)},Z(t)))]}function _n(e){const t=e,r=fe(t);return[$(W,j({event_name:bt,...r,products:Le(t.products),total_value:t.totalValue},Z(t)))]}function Sn(e){const t=e,r=fe(t);return[$(W,j({event_name:It,...r,search_string:t.searchString},Z(t)))]}function Tn(e){const t=e,r=F(t.cartId),n=r!=null&&r.id?`${r.id}`:null;return[$(W,j({event_name:yn,customerId:t.customerId,cart_token:n,total_value:t.totalValue,products:Le(t.products),customer_id:parseInt(F(t.customerId).id||"0")},Z(t)))]}function Z(e){return{source:e.shopifySalesChannel||St.headless,asset_version_id:e.assetVersionId||gn,hydrogenSubchannelId:e.storefrontId||e.hydrogenSubchannelId||"0",is_persistent_cookie:e.hasUserConsent,deprecated_visit_token:e.visitToken,unique_token:e.uniqueToken,event_time:Date.now(),event_id:we(),event_source_url:e.url,referrer:e.referrer,user_agent:e.userAgent,navigation_type:e.navigationType,navigation_api:e.navigationApi,shop_id:parseInt(F(e.shopId).id),currency:e.currency,ccpa_enforced:e.ccpaEnforced||!1,gdpr_enforced:e.gdprEnforced||!1,gdpr_enforced_as_string:e.gdprEnforced?"true":"false",analytics_allowed:e.analyticsAllowed||!1,marketing_allowed:e.marketingAllowed||!1,sale_of_data_allowed:e.saleOfDataAllowed||!1}}function Le(e){return e?e.map(t=>{const r=j({variant_gid:t.variantGid,category:t.category,sku:t.sku,product_id:parseInt(F(t.productGid).id),variant_id:parseInt(F(t.variantGid).id)},{product_gid:t.productGid,name:t.name,variant:t.variantName||"",brand:t.brand,price:parseFloat(t.price),quantity:Number(t.quantity||0)});return JSON.stringify(r)}):[]}function Cn(e,t){const{eventName:r,payload:n}=e;if(!n.hasUserConsent)return Promise.resolve();let a=[];const i=n;return r===re.PAGE_VIEW?a=a.concat(Ct(i),mn(i)):r===re.ADD_TO_CART?a=a.concat(Tn(n)):r===re.PAGE_VIEW_2?a=a.concat(Ct(i),pn(i)):r===re.COLLECTION_VIEW?a=a.concat(En(i)):r===re.PRODUCT_VIEW?a=a.concat(_n(i)):r===re.SEARCH_VIEW&&(a=a.concat(Sn(i))),a.length?wn(a,t):Promise.resolve()}function An(){return typeof window>"u"||!window.navigator?!1:/Chrome-Lighthouse/.test(window.navigator.userAgent)}const vt="sendShopifyAnalytics request is unsuccessful";function wn(e,t){if(An())return Promise.resolve();const r={events:e,metadata:{event_sent_at_ms:Date.now()}};try{return fetch(t?`https://${t}/.well-known/shopify/monorail/unstable/produce_batch`:"https://monorail-edge.shopifysvc.com/unstable/produce_batch",{method:"post",headers:{"content-type":"text/plain"},body:JSON.stringify(r)}).then(n=>{if(!n.ok)throw new Error("Response failed");return n.text()}).then(n=>{n&&JSON.parse(n).result.forEach(i=>{i.status!==200&&console.error(vt,`

`,i.message)})}).catch(n=>{console.error(vt,n)})}catch{return Promise.resolve()}}function bn(){if(un("getClientBrowserParameters"))return{uniqueToken:"",visitToken:"",url:"",path:"",search:"",referrer:"",title:"",userAgent:"",navigationType:"",navigationApi:""};const[e,t]=Pn(),r=be(document.cookie);return{uniqueToken:r[X],visitToken:r[z],url:location.href,path:location.pathname,search:location.search,referrer:document.referrer,title:document.title,userAgent:navigator.userAgent,navigationType:e,navigationApi:t}}function In(){try{const e=(performance==null?void 0:performance.getEntriesByType)&&(performance==null?void 0:performance.getEntriesByType("navigation"));if(e&&e[0]){const t=window.performance.getEntriesByType("navigation")[0].type;return t&&t.toString()}}catch{}}function vn(){var e,t;try{if(PerformanceNavigation&&((e=performance==null?void 0:performance.navigation)==null?void 0:e.type)!==null&&((t=performance==null?void 0:performance.navigation)==null?void 0:t.type)!==void 0){const r=performance.navigation.type;switch(r){case PerformanceNavigation.TYPE_NAVIGATE:return"navigate";case PerformanceNavigation.TYPE_RELOAD:return"reload";case PerformanceNavigation.TYPE_BACK_FORWARD:return"back_forward";default:return`unknown: ${r}`}}}catch{}}function Pn(){try{let e="PerformanceNavigationTiming",t=In();return t||(t=vn(),e="performance.navigation"),t?[t,e]:["unknown","unknown"]}catch{}return["error","error"]}function On(e){const{cartCreate:t,checkoutUrl:r}=oe(),[n,a]=c.useState(!1),{quantity:i,variantId:s,sellingPlanId:o,onClick:u,attributes:l,children:f,...g}=e;c.useEffect(()=>{n&&r&&(window.location.href=r)},[n,r]);const y=c.useCallback(()=>{a(!0),t({lines:[{quantity:i??1,merchandiseId:s,attributes:l,sellingPlanId:o}]})},[t,i,s,l,o]);return React.createElement(Ie,{disabled:n??g.disabled,...g,onClick:u,defaultOnClick:y},f)}function Rn(e){const[t,r]=c.useState(!1),{status:n,checkoutUrl:a}=oe(),{children:i,...s}=e;return c.useEffect(()=>{t&&a&&n==="idle"&&(window.location.href=a)},[t,n,a]),React.createElement(Ie,{...s,disabled:t||s.disabled,onClick:()=>r(!0)},i)}function Pt(e){const{countryIsoCode:t,languageIsoCode:r}=le(),n=r.includes("_")?r.replace("_","-"):`${r}-${t}`;if(!n)throw new Error("useMoney(): Unable to get 'locale' from 'useShop()', which means that 'locale' was not passed to '<ShopifyProvider/>'. 'locale' is required for 'useMoney()' to work");const a=parseFloat(e.amount),{defaultFormatter:i,nameFormatter:s,narrowSymbolFormatter:o,withoutTrailingZerosFormatter:u,withoutCurrencyFormatter:l,withoutTrailingZerosOrCurrencyFormatter:f}=c.useMemo(()=>{const d={style:"currency",currency:e.currencyCode};return{defaultFormatter:se(n,d),nameFormatter:se(n,{...d,currencyDisplay:"name"}),narrowSymbolFormatter:se(n,{...d,currencyDisplay:"narrowSymbol"}),withoutTrailingZerosFormatter:se(n,{...d,minimumFractionDigits:0,maximumFractionDigits:0}),withoutCurrencyFormatter:se(n),withoutTrailingZerosOrCurrencyFormatter:se(n,{minimumFractionDigits:0,maximumFractionDigits:0})}},[e.currencyCode,n]),g=d=>d.type==="currency",y=c.useMemo(()=>({original:()=>e,currencyCode:()=>e.currencyCode,localizedString:()=>i().format(a),parts:()=>i().formatToParts(a),withoutTrailingZeros:()=>a%1===0?u().format(a):i().format(a),withoutTrailingZerosAndCurrency:()=>a%1===0?f().format(a):l().format(a),currencyName:()=>{var d;return((d=s().formatToParts(a).find(g))==null?void 0:d.value)??e.currencyCode},currencySymbol:()=>{var d;return((d=i().formatToParts(a).find(g))==null?void 0:d.value)??e.currencyCode},currencyNarrowSymbol:()=>{var d;return((d=o().formatToParts(a).find(g))==null?void 0:d.value)??""},amount:()=>i().formatToParts(a).filter(d=>["decimal","fraction","group","integer","literal"].includes(d.type)).map(d=>d.value).join("")}),[e,a,s,i,o,l,u,f]);return c.useMemo(()=>new Proxy(y,{get:(d,h)=>{var S;return(S=Reflect.get(d,h))==null?void 0:S.call(null)}}),[y])}const Ot=new Map;function se(e,t){const r=JSON.stringify([e,t]);return function(){let n=Ot.get(r);return n||(n=new Intl.NumberFormat(e,t),Ot.set(r,n)),n}}function Pe({data:e,as:t,withoutCurrency:r,withoutTrailingZeros:n,measurement:a,measurementSeparator:i="/",...s}){if(!Dn(e))throw new Error("<Money/> needs a valid 'data' prop that has 'amount' and 'currencyCode'");const o=Pt(e),u=t??"div";let l=o.localizedString;return(r||n)&&(r&&!n?l=o.amount:!r&&n?l=o.withoutTrailingZeros:l=o.withoutTrailingZerosAndCurrency),React.createElement(u,{...s},l,a&&a.referenceUnit&&React.createElement(React.Fragment,null,i,a.referenceUnit))}function Dn(e){return typeof e.amount=="string"&&!!e.amount&&typeof e.currencyCode=="string"&&!!e.currencyCode}function Vn(e){const{cost:t}=oe(),{amountType:r="total",children:n,...a}=e;let i;return r=="total"?i=t==null?void 0:t.totalAmount:r=="subtotal"?i=t==null?void 0:t.subtotalAmount:r=="tax"?i=t==null?void 0:t.totalTaxAmount:r=="duty"&&(i=t==null?void 0:t.totalDutyAmount),i==null?null:React.createElement(Pe,{...a,data:i},n)}const Rt=c.createContext(null);function xe(){const e=c.useContext(Rt);if(e==null)throw new Error("Expected a cart line context but none was found");return e}function Un({children:e,line:t}){return React.createElement(Rt.Provider,{value:t},e)}function kn(e){const t=xe(),{as:r,...n}=e,a=r||"span";return React.createElement(a,{...n},t.quantity)}function Nn(e){const{status:t,linesRemove:r,linesUpdate:n}=oe(),a=xe(),{children:i,adjust:s,onClick:o,...u}=e,l=c.useCallback(()=>{if(s==="remove"){r([(a==null?void 0:a.id)??""]);return}const g=s==="decrease"?((a==null?void 0:a.quantity)??0)-1:((a==null?void 0:a.quantity)??0)+1;if(g<=0){r([(a==null?void 0:a.id)??""]);return}const y={id:(a==null?void 0:a.id)??"",quantity:g,attributes:(a==null?void 0:a.attributes)??[]};n([y])},[s,a==null?void 0:a.attributes,a==null?void 0:a.id,a==null?void 0:a.quantity,r,n]),f=u.disabled;return React.createElement(Ie,{...u,onClick:o,defaultOnClick:l,disabled:typeof f<"u"?f:t!=="idle"},i)}const Mn={DateTime:"string",Decimal:"string",HTML:"string",URL:"string",Color:"string",UnsignedInt64:"string"},Ln={DateTime:"string",Decimal:"string",HTML:"string",ISO8601DateTime:"string",URL:"string",UnsignedInt64:"string"},Dt=c.forwardRef((e,t)=>{const{data:r,options:n,id:a=r.id,frameBorder:i="0",allow:s="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:o=!0,loading:u="lazy",...l}=e;if(!r.embedUrl)throw new Error("<ExternalVideo/> requires the 'embedUrl' property");let f=r.embedUrl;if(n){const g=new URL(r.embedUrl);for(const[y,d]of Object.entries(n))typeof d>"u"||g.searchParams.set(y,d.toString());f=g.toString()}return React.createElement("iframe",{...l,id:a??r.embedUrl,title:r.alt??r.id??"external video",frameBorder:i,allow:s,allowFullScreen:o,src:f,loading:u,ref:t})}),Fe=",",ce={OPTION:":",END_OF_PREFIX:",",SEQUENCE_GAP:" ",RANGE:"-"},je=(()=>{const e=new Map;return function(t,r){var n;if(t.length===0)return!1;if(!e.has(r)){const a=new Set;for(const i of Vt(r)){a.add(i.join(Fe));for(let s=0;s<i.length;s++)a.add(i.slice(0,s+1).join(Fe))}e.set(r,a)}return!!((n=e.get(r))!=null&&n.has(t.join(Fe)))}})();function Vt(e){if(!e)return[];if(e.startsWith("v1_"))return Fn(xn(e));throw new Error("Unsupported option value encoding")}const xn=e=>e.replace(/^v1_/,"");function Fn(e){const t=/[ :,-]/g;let r=0,n;const a=[],i=[];let s=0,o=null;for(;n=t.exec(e);){const l=n[0],f=Number.parseInt(e.slice(r,n.index))||0;if(o!==null){for(;o<f;o++)i[s]=o,a.push([...i]);o=null}i[s]=f,l===ce.RANGE?o=f:l===ce.OPTION?s++:((l===ce.SEQUENCE_GAP||l===ce.END_OF_PREFIX&&e[n.index-1]!==ce.END_OF_PREFIX)&&a.push([...i]),l===ce.END_OF_PREFIX&&(i.pop(),s--)),r=t.lastIndex}const u=e.lastIndexOf("-");if(o!=null&&u>0){const l=parseInt(e.substring(u+1));for(;o<=l;o++)i[s]=o,a.push([...i])}return a}function jn(e){return e.map(t=>Object.assign({},...t!=null&&t.optionValues?t.optionValues.map((r,n)=>({[r.name]:n})):[]))}function he(e){return Object.assign({},...e.map(t=>({[t.name]:t.value})))}function $e(e){return JSON.stringify(he(e))}function Ut(e,t){return Array.isArray(e)?JSON.stringify(e.map((r,n)=>t[n][r.value])):JSON.stringify(Object.keys(e).map((r,n)=>t[n][e[r]]))}function $n(e,t){return Object.assign({},...e.map(r=>({[Ut(r.selectedOptions||[],t)]:r})))}const kt=["options","selectedOrFirstAvailableVariant","adjacentVariants"],qn=["handle","encodedVariantExistence","encodedVariantAvailability"];function K(e){return console.error(`[h2:error:getProductOptions] product.${e} is missing. Make sure you query for this field from the Storefront API.`),!1}function Nt(e,t=!1){var a;let r=!0;const n=Object.keys(e);if((t?[...kt,...qn]:kt).forEach(i=>{n.includes(i)||(r=K(i))}),e.options){const i=e==null?void 0:e.options[0];if(t&&!(i!=null&&i.name)&&(r=K("options.name")),(a=e==null?void 0:e.options[0])!=null&&a.optionValues){const s=e.options[0].optionValues[0];t&&!(s!=null&&s.name)&&(r=K("options.optionValues.name")),s!=null&&s.firstSelectableVariant?r=qe(s.firstSelectableVariant,"options.optionValues.firstSelectableVariant",r,t):r=K("options.optionValues.firstSelectableVariant")}else r=K("options.optionValues")}return e.selectedOrFirstAvailableVariant&&(r=qe(e.selectedOrFirstAvailableVariant,"selectedOrFirstAvailableVariant",r,t)),e.adjacentVariants&&e.adjacentVariants[0]&&(r=qe(e.adjacentVariants[0],"adjacentVariants",r,t)),r?e:{}}function qe(e,t,r,n){var i;let a=r;if(n&&!((i=e.product)!=null&&i.handle)&&(a=K(`${t}.product.handle`)),e.selectedOptions){const s=e.selectedOptions[0];s!=null&&s.name||(a=K(`${t}.selectedOptions.name`)),s!=null&&s.value||(a=K(`${t}.selectedOptions.value`))}else a=K(`${t}.selectedOptions`);return a}function Hn(e){const t=Nt(e);if(!t.options)return[];const r={};t.options.map(a=>{var i;(i=a.optionValues)==null||i.map(s=>{if(s.firstSelectableVariant){const o=$e(s.firstSelectableVariant.selectedOptions);r[o]=s.firstSelectableVariant}})}),t.adjacentVariants.map(a=>{const i=$e(a.selectedOptions);r[i]=a});const n=t.selectedOrFirstAvailableVariant;if(n){const a=$e(n.selectedOptions);r[a]=n}return Object.values(r)}function Bn(e){const t=Nt(e,!0);if(!t.options)return[];const{options:r,selectedOrFirstAvailableVariant:n,adjacentVariants:a,encodedVariantExistence:i,encodedVariantAvailability:s,handle:o}=t,u=jn(r),l=$n(n?[n,...a]:a,u),f=he(n?n.selectedOptions:[]);return r.map((y,d)=>({...y,optionValues:y.optionValues.map(h=>{var P;const S={...f};S[y.name]=h.name;const T=Ut(S||[],u),b=JSON.parse(T).slice(0,d+1),I=je(b,i||""),w=je(b,s||""),v=l[T]||h.firstSelectableVariant,m=he(v.selectedOptions||[]),p=new URLSearchParams(m),_=(P=v==null?void 0:v.product)==null?void 0:P.handle;return{...h,variant:v,handle:_,variantUriQuery:p.toString(),selected:f[y.name]===h.name,exists:I,available:w,isDifferentProduct:_!==o}})}))}const Yn=`#graphql
  fragment Image on Image {
    altText
    url
    width
    height
  }
`,Mt=k.forwardRef(({alt:e,aspectRatio:t,crop:r="center",data:n,decoding:a="async",height:i="auto",loader:s=ge,loading:o="lazy",sizes:u,src:l,srcSetOptions:f={intervals:15,startingWidth:200,incrementSize:200,placeholderWidth:100},width:g="100%",...y},d)=>{const h=k.useMemo(()=>{const p=n!=null&&n.width&&(n!=null&&n.height)?n==null?void 0:n.width:void 0,_=n!=null&&n.width&&(n!=null&&n.height)?n==null?void 0:n.height:void 0;return{width:p,height:_,unitsMatch:!!xt(p,_)}},[n]),S=k.useMemo(()=>{const _=ye((g||"100%").toString()),P=`${_.number}${_.unit}`,R=i==null,A=R?null:ye(i.toString()),O=A?`${A.number}${A.unit}`:"",q=R?"auto":O,D=l||(n==null?void 0:n.url),H=n!=null&&n.altText&&!e?n==null?void 0:n.altText:e||"",ee=t||(h.unitsMatch?[me(h.width),me(h.height)].join("/"):void 0);return{width:P,height:q,src:D,alt:H,aspectRatio:ee}},[g,i,l,n,e,t,h,y==null?void 0:y.key]),{intervals:T,startingWidth:b,incrementSize:I,placeholderWidth:w}=f,v=k.useMemo(()=>Zn(g,T,b,I),[g,T,b,I]);return Ft(S.width)?k.createElement(Gn,{aspectRatio:t,crop:r,decoding:a,height:i,imageWidths:v,loader:s,loading:o,normalizedProps:S,passthroughProps:y,ref:d,width:g,data:n}):k.createElement(Wn,{aspectRatio:t,crop:r,decoding:a,imageWidths:v,loader:s,loading:o,normalizedProps:S,passthroughProps:y,placeholderWidth:w,ref:d,sizes:u,data:n})}),Gn=k.forwardRef(({aspectRatio:e,crop:t,decoding:r,height:n,imageWidths:a,loader:i=ge,loading:s,normalizedProps:o,passthroughProps:u,width:l,data:f},g)=>{const y=k.useMemo(()=>{const d=me(l),h=me(n),S=e||(xt(o.width,o.height)?[d,h].join("/"):o.aspectRatio?o.aspectRatio:void 0),T=a===void 0?void 0:$t(a,S,t,{width:(f==null?void 0:f.width)??void 0,height:(f==null?void 0:f.height)??void 0}),b=h||(S&&d?d*(He(S)??1):void 0),I=jt(o.src,T,i),w=i({src:o.src,width:d,height:b,crop:o.height==="auto"?void 0:t});return{width:d,aspectRatio:S,height:b,srcSet:I,src:w}},[e,t,f,n,a,i,o,l]);return k.createElement("img",{ref:g,alt:o.alt,decoding:r,height:y.height,loading:s,src:y.src,srcSet:y.srcSet,width:y.width,style:{aspectRatio:y.aspectRatio,...u.style},...u})}),Wn=k.forwardRef(({crop:e,decoding:t,imageWidths:r,loader:n=ge,loading:a,normalizedProps:i,passthroughProps:s,placeholderWidth:o,sizes:u,data:l},f)=>{const g=k.useMemo(()=>{const y=r===void 0?void 0:$t(r,i.aspectRatio,e,{width:(l==null?void 0:l.width)??void 0,height:(l==null?void 0:l.height)??void 0}),d=i.aspectRatio&&o?o*(He(i.aspectRatio)??1):void 0,h=jt(i.src,y,n),S=n({src:i.src,width:o,height:d,crop:e});return{placeholderHeight:d,srcSet:h,src:S}},[e,l,r,n,i,o]);return k.createElement("img",{ref:f,alt:i.alt,decoding:t,height:g.placeholderHeight,loading:a,sizes:u,src:g.src,srcSet:g.srcSet,width:o,...s,style:{width:i.width,aspectRatio:i.aspectRatio,...s.style}})}),Lt="https://placeholder.shopify.com";function ge({src:e,width:t,height:r,crop:n}){if(!e)return"";const a=new URL(e,Lt);return t&&a.searchParams.append("width",Math.round(t).toString()),r&&a.searchParams.append("height",Math.round(r).toString()),n&&a.searchParams.append("crop",n),a.href.replace(Lt,"")}function xt(e="100%",t="auto"){return ye(e.toString()).unit===ye(t.toString()).unit}function ye(e){const t=e.replace(/[0-9.]/g,""),r=parseFloat(e.replace(t,""));return{unit:t===""?r===void 0?"auto":"px":t,number:r}}function me(e){if(e===void 0)return;const{unit:t,number:r}=ye(e.toString());switch(t){case"em":return r*16;case"rem":return r*16;case"px":return r;case"":return r;default:return}}function Ft(e){return typeof e=="number"||/\d(px|em|rem)$/.test(e)}function jt(e,t,r=ge){return e?(t==null?void 0:t.length)===0||!t?e:t.map((n,a)=>`${r({src:e,width:n.width,height:n.height,crop:n.crop})} ${t.length===3?`${a+1}x`:`${n.width??0}w`}`).join(", "):""}function Zn(e="100%",t,r,n){const a=Array.from({length:t},(s,o)=>o*n+r),i=Array.from({length:3},(s,o)=>(o+1)*(me(e)??0));return Ft(e)?i:a}function He(e){if(!e)return;const[t,r]=e.split("/");return 1/(Number(t)/Number(r))}function $t(e,t,r="center",n){if(e)return e.map(a=>({width:a,height:t?a*(He(t)??1):void 0,crop:r})).filter(({width:a,height:i})=>!(n!=null&&n.width&&a>n.width||n!=null&&n.height&&i&&i>n.height))}const qt={};function Kn(e,t){const r=qt[e];if(r)return r;const n=new Promise((a,i)=>{const s=document.createElement("script");t!=null&&t.module?s.type="module":s.type="text/javascript",s.src=e,s.onload=()=>{a(!0)},s.onerror=()=>{i(!1)},(t==null?void 0:t.in)==="head"?document.head.appendChild(s):document.body.appendChild(s);const o=t==null?void 0:t.attributes;o&&Object.keys(o).forEach(u=>{s.setAttribute(u,o[u])})});return qt[e]=n,n}function Be(e,t){const[r,n]=c.useState("loading");return c.useEffect(()=>{Kn(e,t).then(()=>n("done")).catch(()=>n("error"))},[e]),r}const Ht=c.forwardRef((e,t)=>{var f;const{data:r,previewImageOptions:n,id:a=r.id,playsInline:i=!0,controls:s=!0,sourceProps:o={},...u}=e,l=ge({src:((f=r.previewImage)==null?void 0:f.url)??"",...n});if(!r.sources)throw new Error("<Video/> requires a 'data.sources' array");return React.createElement("video",{...u,id:a,playsInline:i,controls:s,poster:l,ref:t},r.sources.map(g=>{if(!(g!=null&&g.url&&(g!=null&&g.mimeType)))throw new Error("<Video/> needs 'source.url' and 'source.mimeType'");return React.createElement("source",{...o,key:g.url,src:g.url,type:g.mimeType})}))});function Bt(e){var l,f,g;const[t,r]=c.useState(void 0),n=c.useCallback(y=>{r(y)},[]),{data:a,children:i,className:s,...o}=e,u=Be("https://unpkg.com/@google/model-viewer@v1.12.1/dist/model-viewer.min.js",{module:!0});return c.useEffect(()=>{const y={error:o.onError,load:o.onLoad,preload:o.onPreload,"model-visibility":o.onModelVisibility,progress:o.onProgress,"ar-status":o.onArStatus,"ar-tracking":o.onArTracking,"quick-look-button-tapped":o.onQuickLookButtonTapped,"camera-change":o.onCameraChange,"environment-change":o.onEnvironmentChange,play:o.onPlay,pause:o.onPause,"scene-graph-ready":o.onSceneGraphReady};if(t)return Object.entries(y).forEach(([d,h])=>{h&&t.addEventListener(d,h)}),()=>{t!=null&&Object.entries(y).forEach(([d,h])=>{h&&t.removeEventListener(d,h)})}},[t,o.onArStatus,o.onArTracking,o.onCameraChange,o.onEnvironmentChange,o.onError,o.onLoad,o.onModelVisibility,o.onPause,o.onPlay,o.onPreload,o.onProgress,o.onQuickLookButtonTapped,o.onSceneGraphReady]),u!=="done"?null:(f=(l=a.sources)==null?void 0:l[0])!=null&&f.url?React.createElement("model-viewer",{ref:n,...o,class:s,id:o.id??a.id,src:a.sources[0].url,alt:a.alt??null,"camera-controls":o.cameraControls??!0,poster:(o.poster||((g=a.previewImage)==null?void 0:g.url))??null,autoplay:o.autoplay??!0,loading:o.loading,reveal:o.reveal,ar:o.ar,"ar-modes":o.arModes,"ar-scale":o.arScale,"ar-placement":o.arPlacement,"ios-src":o.iosSrc,"touch-action":o.touchAction,"disable-zoom":o.disableZoom,"orbit-sensitivity":o.orbitSensitivity,"auto-rotate":o.autoRotate,"auto-rotate-delay":o.autoRotateDelay,"rotation-per-second":o.rotationPerSecond,"interaction-policy":o.interactionPolicy,"interaction-prompt":o.interactionPrompt,"interaction-prompt-style":o.interactionPromptStyle,"interaction-prompt-threshold":o.interactionPromptThreshold,"camera-orbit":o.cameraOrbit,"camera-target":o.cameraTarget,"field-of-view":o.fieldOfView,"max-camera-orbit":o.maxCameraOrbit,"min-camera-orbit":o.minCameraOrbit,"max-field-of-view":o.maxFieldOfView,"min-field-of-view":o.minFieldOfView,bounds:o.bounds,"interpolation-decay":o.interpolationDecay??100,"skybox-image":o.skyboxImage,"environment-image":o.environmentImage,exposure:o.exposure,"shadow-intensity":o.shadowIntensity??0,"shadow-softness":o.shadowSoftness??0,"animation-name":o.animationName,"animation-crossfade-duration":o.animationCrossfadeDuration,"variant-name":o.variantName,orientation:o.orientation,scale:o.scale},i):(console.error("<ModelViewer/> requires 'data.sources' prop to be an array, with an object that has a property 'url' on it. Rendering 'null'"),null)}function Jn({data:e,mediaOptions:t,...r}){switch(e.__typename){case"MediaImage":return e.image?React.createElement(Mt,{...r,...t==null?void 0:t.image,data:e.image}):(console.warn("<MediaFile/>: 'data.image' does not exist for __typename of 'MediaImage'; rendering 'null' by default."),null);case"Video":return React.createElement(Ht,{...r,...t==null?void 0:t.video,data:e});case"ExternalVideo":return React.createElement(Dt,{...r,...t==null?void 0:t.externalVideo,data:e});case"Model3d":return React.createElement(Bt,{...r,...t==null?void 0:t.modelViewer,data:e});default:return console.error("<MediaFile /> requires the '__typename' property to exist on the 'data' prop in order to render the matching sub-component for this type of media.  Rendering 'null' by default"),null}}function Qn(e){if(!e.type)return console.error("parseMetafield(): The 'type' field is required in order to parse the Metafield. Returning 'parsedValue' of 'null'"),{...e,parsedValue:null};switch(e.type){case"boolean":return{...e,parsedValue:e.value==="true"};case"collection_reference":case"file_reference":case"page_reference":case"product_reference":case"variant_reference":return{...e,parsedValue:e.reference};case"color":case"multi_line_text_field":case"single_line_text_field":case"url":return{...e,parsedValue:e.value};case"dimension":case"money":case"json":case"rating":case"volume":case"weight":case"rich_text_field":case"list.color":case"list.dimension":case"list.number_integer":case"list.number_decimal":case"list.rating":case"list.single_line_text_field":case"list.url":case"list.volume":case"list.weight":{let t=null;try{t=Yt(e.value??"")}catch{console.error("parseMetafield(): attempted to JSON.parse the 'metafield.value' property, but failed. Returning 'null' for 'parsedValue'"),t=null}return{...e,parsedValue:t}}case"date":case"date_time":return{...e,parsedValue:new Date(e.value??"")};case"list.date":case"list.date_time":{const t=Yt((e==null?void 0:e.value)??"");return{...e,parsedValue:t.map(r=>new Date(r))}}case"number_decimal":case"number_integer":return{...e,parsedValue:Number(e.value)};case"list.collection_reference":case"list.file_reference":case"list.page_reference":case"list.product_reference":case"list.variant_reference":return{...e,parsedValue:Q(e.references??void 0)};default:{const t=`parseMetafield(): the 'metafield.type' you passed in is not supported. Your type: "${e.type}". If you believe this is an error, please open an issue on GitHub.`;return console.error(`${t}  Returning 'parsedValue' of 'null'`),{...e,parsedValue:null}}}}function Yt(e){return String(e).includes("__proto__")?JSON.parse(e,(t,r)=>{if(t!=="__proto__")return r}):JSON.parse(e)}function Xn(e){var f,g,y,d,h,S;const{priceType:t="regular",variantId:r,valueType:n="min",data:a,...i}=e;if(a==null)throw new Error("<ProductPrice/> requires a product as the 'data' prop");let s,o;const u=r?Q((a==null?void 0:a.variants)??{}).find(T=>(T==null?void 0:T.id)===r)??null:null,l=n==="max"?"maxVariantPrice":"minVariantPrice";if(t==="compareAt"){r&&u?s=u.compareAtPrice:s=(f=a==null?void 0:a.compareAtPriceRange)==null?void 0:f[l];let T;r&&u?T=parseFloat(((g=u.price)==null?void 0:g.amount)??"0"):T=parseFloat(((d=(y=a==null?void 0:a.priceRange)==null?void 0:y[l])==null?void 0:d.amount)??"0");const b=parseFloat((s==null?void 0:s.amount)??"0");if(T>=b)return null}else r&&u?(s=u.price,n==="unit"&&(s=u.unitPrice,o=u.unitPriceMeasurement)):n==="max"?s=(h=a.priceRange)==null?void 0:h.maxVariantPrice:s=(S=a.priceRange)==null?void 0:S.minVariantPrice;return s?o?React.createElement(Pe,{...i,data:s,measurement:o}):React.createElement(Pe,{...i,data:s}):null}const zn={root:ea,heading:ta,paragraph:ra,text:na,link:aa,list:ia,"list-item":oa};function ea({node:e}){return React.createElement("div",null,e.children)}function ta({node:e}){return c.createElement(`h${e.level??"1"}`,null,e.children)}function ra({node:e}){return React.createElement("p",null,e.children)}function na({node:e}){return e.bold&&e.italic?React.createElement("em",null,React.createElement("strong",null,e.value)):e.bold?React.createElement("strong",null,e.value):e.italic?React.createElement("em",null,e.value):e.value}function aa({node:e}){return React.createElement("a",{href:e.url,title:e.title,target:e.target},e.children)}function ia({node:e}){const t=e.listType==="unordered"?"ul":"ol";return React.createElement(t,null,e.children)}function oa({node:e}){return React.createElement("li",null,e.children)}function sa({as:e,data:t,plain:r,components:n,...a}){try{const i=e??"div",s=c.useMemo(()=>JSON.parse(t),[t]);return React.createElement(i,{...a},r?pe(s):Gt(n,s))}catch(i){throw new Error("[h2:error:RichText] Parsing error. Make sure to pass a JSON string of rich text metafield",{cause:i})}}function Gt(e={},t,r=0){let n;"children"in t&&(n=t.children.map((i,s)=>Gt(e,i,s)));const a=e[t.type==="list-item"?"listItem":t.type]??zn[t.type];switch(t.type){case"root":return c.createElement(a,{key:r,node:{type:"root",children:n}});case"heading":return c.createElement(a,{key:r,node:{type:"heading",level:t.level,children:n}});case"paragraph":return c.createElement(a,{key:r,node:{type:"paragraph",children:n}});case"text":{const i=(t.value??"").split(`
`).flatMap((s,o)=>{const u=`${r}-${s}-${o}`,l=c.createElement(a,{key:u,node:{type:"text",italic:t.italic,bold:t.bold,value:s}});return o===0?l:[c.createElement("br",{key:`${u}-br`}),l]});return i.length>1?c.createElement(c.Fragment,{key:r},i):i[0]}case"link":return c.createElement(a,{key:r,node:{type:"link",url:t.url,title:t.title,target:t.target,children:n}});case"list":return c.createElement(a,{key:r,node:{type:"list",listType:t.listType,children:n}});case"list-item":return c.createElement(a,{key:r,node:{type:"list-item",children:n}})}}function pe(e,t=[]){switch(e.type){case"root":e.children.forEach(r=>pe(r,t));break;case"heading":case"paragraph":e.children.forEach(r=>pe(r,t)),t.push(" ");break;case"text":t.push(e.value||"");break;case"link":e.children.forEach(r=>pe(r,t));break;case"list":e.children.forEach(r=>{r.children&&r.children.forEach(n=>pe(n,t)),t.push(" ")});break;default:throw new Error(`Unknown node encountered ${e.type}`)}return t.join("").trim()}const ca="https://cdn.shopify.com/shopifycloud/shop-js/v1.0/client.js";function ua(e){return e==="headless"||e==="hydrogen"}function la({channel:e,variantIds:t,className:r,variantIdsAndQuantities:n,width:a,storeDomain:i}){const s=le(),o=i||(s==null?void 0:s.storeDomain),u=Be(ca);let l=[],f;if(!o||o===st.storeDomain)throw new Error(da);if(t&&n)throw new Error(ha);if(!t&&!n)throw new Error(Wt);if(e)if(ua(e))f=e;else throw new Error(ga);if(t)l=t.reduce((y,d)=>{const h=F(d).id;return h&&y.push(h),y},[]);else if(n)l=n.reduce((y,d)=>{const h=F(d==null?void 0:d.id).id;return h&&y.push(`${h}:${(d==null?void 0:d.quantity)??1}`),y},[]);else throw new Error(Wt);if(l.length===0)throw new Error(fa);const g=a?{"--shop-pay-button-width":a}:void 0;return React.createElement("div",{className:r,style:g},u==="done"&&React.createElement("shop-pay-button",{...f?{channel:f}:{},"store-url":o,variants:l.join(",")}))}const da='You must pass a "storeDomain" prop to the "ShopPayButton" component, or wrap it in a "ShopifyProvider" component.',fa='You must pass in "variantIds" in the form of ["gid://shopify/ProductVariant/1"]',Wt='You must pass in either "variantIds" or "variantIdsAndQuantities" to ShopPayButton',ha="You must provide either a variantIds or variantIdsAndQuantities prop, but not both in the ShopPayButton component",ga='Invalid channel attribution value. Must be either "headless" or "hydrogen"';function ya(e){return c.useEffect(()=>{const t=new URLSearchParams(he(e||[])),r=new URLSearchParams(window.location.search),n=new URLSearchParams({...Object.fromEntries(r),...Object.fromEntries(t)});n.size>0&&window.history.replaceState({},"",`${window.location.pathname}?${n.toString()}`)},[JSON.stringify(e)]),null}const ma=60*60*24*360*1,pa=60*30;function Ea(e){const{hasUserConsent:t=!1,domain:r="",checkoutDomain:n=""}=e||{};c.useEffect(()=>{const a=be(document.cookie);let i=r||window.document.location.host;if(n){const o=n.split(".").reverse(),u=i.split(".").reverse(),l=[];o.forEach((f,g)=>{f===u[g]&&l.push(f)}),i=l.reverse().join(".")}/^localhost/.test(i)&&(i="");const s=i?/^\./.test(i)?i:`.${i}`:"";t?(Oe(X,a[X]||we(),ma,s),Oe(z,a[z]||we(),pa,s)):(Oe(X,"",0,s),Oe(z,"",0,s))},[e,t,r,n])}function Oe(e,t,r,n){document.cookie=Gr(e,t,{maxage:r,domain:n,samesite:"Lax",path:"/"})}E.AddToCartButton=cn,E.AnalyticsEventName=re,E.AnalyticsPageType=ve,E.BuyNowButton=On,E.CartCheckoutButton=Rn,E.CartCost=Vn,E.CartLineProvider=Un,E.CartLineQuantity=kn,E.CartLineQuantityAdjustButton=Nn,E.CartProvider=en,E.ExternalVideo=Dt,E.IMAGE_FRAGMENT=Yn,E.Image=Mt,E.MediaFile=Jn,E.ModelViewer=Bt,E.Money=Pe,E.ProductPrice=Xn,E.ProductProvider=an,E.RichText=sa,E.SHOPIFY_S=z,E.SHOPIFY_STOREFRONT_ID_HEADER=ut,E.SHOPIFY_STOREFRONT_S_HEADER=dt,E.SHOPIFY_STOREFRONT_Y_HEADER=lt,E.SHOPIFY_Y=X,E.ShopPayButton=la,E.ShopifyProvider=Hr,E.ShopifySalesChannel=St,E.Video=Ht,E.createStorefrontClient=$r,E.customerAccountApiCustomScalars=Ln,E.decodeEncodedVariant=Vt,E.flattenConnection=Q,E.getAdjacentAndFirstAvailableVariants=Hn,E.getClientBrowserParameters=bn,E.getProductOptions=Bn,E.getShopifyCookies=be,E.isOptionValueCombinationInEncodedVariant=je,E.mapSelectedProductOptionToObject=he,E.parseGid=F,E.parseMetafield=Qn,E.sendShopifyAnalytics=Cn,E.storefrontApiCustomScalars=Mn,E.useCart=oe,E.useCartLine=xe,E.useLoadScript=Be,E.useMoney=Pt,E.useProduct=mt,E.useSelectedOptionInUrlParam=ya,E.useShop=le,E.useShopifyCookies=Ea,Object.defineProperty(E,Symbol.toStringTag,{value:"Module"})});
//# sourceMappingURL=hydrogen-react.prod.js.map
