import { jsx as _jsx } from "react/jsx-runtime";
import { ProductProvider, useProduct } from "../../../hooks/use-shopify-data";
export const FeaturedProduct = ({ element, children, child }) => {
    const { settings } = element;
    const { grid } = settings;
    const templateRowDesktop = Math.max(...child.map(child => child.settings?.gridArea?.row?.desktop?.value).filter(Boolean), 1);
    const templateRowTablet = Math.max(...child.map(child => child.settings?.gridArea?.row?.tablet?.value ?? 1).filter(Boolean), 1);
    const templateRowMobile = Math.max(...child.map(child => child.settings?.gridArea?.row?.mobile?.value ?? 1).filter(Boolean), 1);
    const colDesktop = child.length > 0 ? grid.desktop.value : 1;
    const colTablet = child.length > 0 ? grid?.tablet?.value ?? grid.desktop.value : 1;
    const colMobile = child.length > 0 ? grid?.mobile?.value ?? grid?.tablet?.value ?? grid.desktop.value : 1;
    const { product, isProductPage } = useProduct(element.id);
    if (!product) {
        return null;
    }
    const isProduct = isProductPage ?? false;
    return (_jsx("div", { className: "xb-grid", style: {
            '--xb-col-desktop': colDesktop,
            '--xb-col-tablet': colTablet,
            '--xb-col-mobile': colMobile,
            '--xb-grid-row-desktop': templateRowDesktop,
            '--xb-grid-row-tablet': templateRowTablet,
            '--xb-grid-row-mobile': templateRowMobile,
        }, children: _jsx(ProductProvider, { data: product, isProductPage: isProduct, children: children }) }));
};
