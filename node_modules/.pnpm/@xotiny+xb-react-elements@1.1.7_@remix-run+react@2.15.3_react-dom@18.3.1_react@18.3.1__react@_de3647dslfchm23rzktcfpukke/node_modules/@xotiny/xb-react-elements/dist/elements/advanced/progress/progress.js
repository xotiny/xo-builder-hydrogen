import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import { hash } from "../../../utils/hash";
import { elementAttr } from "../../../utils/template-helpers/element-attr";
import { Style } from "../../../utils/template-helpers/style";
import './styles';
export const Progress = ({ element }) => {
    const { settings } = element;
    const observed = hash(`${JSON.stringify(element.settings)}${element.id}`);
    function getStyle() {
        const style = Style.create({
            '--progress-size': `${settings.progress_size.value}px`,
            '--progress-weight': `${settings.progress_weight.value}px`,
            '--progress-percent': `${settings.progress_percentage.value}%`,
            '--progress-color': `${settings.progress_color}`,
            '--track-color': settings.track_color,
            '--progress-percent-raw': settings.progress_percentage.value,
        });
        return style.get();
    }
    return (_jsx("div", { className: "xo-progress-container", style: getStyle(), children: settings.progress_type === 'line' ? (_jsxs("xo-countto", { ...elementAttr(element, {
                classNames: [
                    'xo-progress--line',
                    settings.progress_style === 'vertical' ? 'xo-progress--vertical' : 'xo-progress--horizontal',
                    settings?.styles?.handle,
                ],
                isCustomElement: true,
            }), "xo-observed": observed, "xo-name": observed, "xo-from": "0", "xo-to": settings.progress_percentage.value, "xo-duration": "1000", "xo-value": settings.progress_percentage.value, "xo-easing": settings.easing, children: [_jsx("xo-countto-number", { children: settings.progress_percentage.value }), _jsx("div", { className: "bar__line", children: _jsx("div", { className: "bar_line-inner", children: _jsx("span", {}) }) })] })) : (_jsxs("div", { ...elementAttr(element, {
                classNames: ['xo-progress--circle', settings?.styles?.handle],
            }), children: [_jsx("xo-countto", { class: "xo-progress--circle__count", "xo-duration": "1000", "xo-from": "0", "xo-to": settings.progress_percentage.value, children: _jsxs("xo-countto-number", { children: ["$", settings.progress_percentage.value] }) }), _jsx("xo-circle-bar", { "xo-animate-on-scroll": true, "xo-observed": observed, "xo-name": observed, "xo-value": settings.progress_percentage.value, "xo-stroke-width": settings.progress_weight.value, "xo-size": settings.progress_size.value, "xo-stroke-linecap": "round", "xo-fill": settings.background_color, "xo-track-color": settings.track_color, "xo-thumb-color": settings.progress_color, "xo-easing": settings.easing })] })) }));
};
