import { jsx as _jsx, jsxs as _jsxs, Fragment as _Fragment } from "react/jsx-runtime";
import { useProduct } from "../../../hooks/use-shopify-data";
import { elementAttr } from "../../../utils/template-helpers/element-attr";
import './styles';
export const PickupAvailabilities = ({ element, children }) => {
    const { settings } = element;
    const { product, selectedVariant } = useProduct(element.id);
    if (!product || !selectedVariant) {
        return null;
    }
    const { storeAvailability } = selectedVariant;
    if (!storeAvailability?.nodes?.length) {
        return null;
    }
    const closestLocation = storeAvailability.nodes[0];
    return (_jsxs("div", { children: [_jsxs("div", { ...elementAttr(element, {
                    classNames: ['xb-pickup-availability-item', settings.static?.class],
                }), children: [_jsx("div", { className: "xb-pickup-availability-item__icon", children: !!closestLocation?.available && (_jsx("svg", { xmlns: "http://www.w3.org/2000/svg", viewBox: "0 0 448 512", children: _jsx("path", { d: "M441 103c9.4 9.4 9.4 24.6 0 33.9L177 401c-9.4 9.4-24.6 9.4-33.9 0L7 265c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.4 33.9 0l119 119L407 103c9.4-9.4 24.6-9.4 33.9 0z" }) })) }), _jsx("div", { className: "xb-pickup-availability-item__content", children: closestLocation?.available ? (_jsxs(_Fragment, { children: [_jsxs("p", { className: "xb-pickup-availability-item__name xb-typo", children: ["Pickup available at ", _jsx("span", { className: "color-foreground", children: closestLocation.location.name })] }), _jsx("p", { className: "xb-pickup-availability-item__time xb-typo", children: closestLocation.pickUpTime }), _jsx("xo-modal-trigger", { "xo-name": "pickup-availability", class: "xb-link--underline", children: _jsx("div", { children: storeAvailability.nodes.length === 1 ? 'View store information' : 'Check availability at other stores' }) })] })) : (storeAvailability.nodes.length > 1 && (_jsxs(_Fragment, { children: [_jsxs("p", { className: "xo-pickup-availability-item__name xb-typo", children: ["Pickup currently unavailable at ", _jsx("span", { className: "color-foreground", children: closestLocation?.location.name })] }), _jsx("xo-modal-trigger", { "xo-name": "pickup-availability", class: "xb-link--underline", children: _jsx("div", { children: "Check availability at other StoreRobots" }) })] }))) })] }), children] }));
};
