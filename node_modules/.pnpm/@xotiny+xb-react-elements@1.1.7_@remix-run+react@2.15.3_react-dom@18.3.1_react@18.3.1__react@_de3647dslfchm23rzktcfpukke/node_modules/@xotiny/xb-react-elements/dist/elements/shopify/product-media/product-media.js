import { jsx as _jsx } from "react/jsx-runtime";
import { hash } from "../../../utils/hash";
import { ProductProvider, useProduct } from "../../../hooks/use-shopify-data";
import { elementAttr } from "../../../utils/template-helpers/element-attr";
import { productMediaUtils } from './product-media-utils';
import './styles';
export const ProductMedia = ({ element, child, children }) => {
    const { settings } = element;
    const { getStyle } = productMediaUtils({ element });
    const { product } = useProduct(element.id);
    if (!product) {
        return null;
    }
    return (_jsx("xo-gallery", { "xo-sync": "false", "xo-observed": hash(`${JSON.stringify(element.settings)}${JSON.stringify(child)}`), children: _jsx("xo-carousel", { ...elementAttr(element, {
                classNames: ['xb-product-media', settings.static?.class],
                style: getStyle(),
                isCustomElement: true,
            }), "xo-observed": hash(`${JSON.stringify(element.settings)}${JSON.stringify(child)}`), "xo-per-view": "1", "xo-autoheight": "true", "xo-gap": "20", "xo-active-index": "0", "data-direction": settings.$thumbnailDirection ?? 'bottom', children: _jsx(ProductProvider, { data: product, children: children }) }) }));
};
