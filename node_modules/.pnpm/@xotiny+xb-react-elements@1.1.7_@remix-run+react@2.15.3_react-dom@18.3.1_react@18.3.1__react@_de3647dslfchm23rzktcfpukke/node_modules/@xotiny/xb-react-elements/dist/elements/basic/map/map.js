import { jsx as _jsx } from "react/jsx-runtime";
import { elementAttr } from "../../../utils/template-helpers/element-attr";
import { Style } from "../../../utils/template-helpers/style";
import './styles';
export const Map = ({ element }) => {
    const { settings } = element;
    const mapType = settings.mapType === 'roadmap' ? 'm' : 'k';
    function getHeight() {
        const minHeight = Style.create({
            '--xb-map-min-height-desktop': `${settings.minHeight.desktop.value}${settings.minHeight.desktop.unit}`,
        });
        if (settings.minHeight?.tablet?.value) {
            minHeight.set({
                '--xb-map-min-height-tablet': `${settings.minHeight?.tablet?.value}${settings.minHeight?.tablet?.unit}`,
            });
        }
        else {
            minHeight.set({
                '--xb-map-min-height-tablet': `${settings.minHeight?.desktop?.value}${settings.minHeight?.desktop?.unit}`,
            });
        }
        if (settings.minHeight?.mobile?.value) {
            minHeight.set({
                '--xb-map-min-height-mobile': `${settings.minHeight?.mobile?.value}${settings.minHeight?.mobile?.unit}`,
            });
        }
        else {
            minHeight.set({
                '--xb-map-min-height-mobile': `${settings.minHeight?.desktop?.value}${settings.minHeight?.desktop?.unit}`,
            });
        }
        return minHeight.get();
    }
    return (_jsx("div", { ...elementAttr(element, {
            classNames: ['xb-map', 'xb-typo', settings.static?.class],
            style: {
                ...getHeight(),
            },
        }), children: _jsx("iframe", { src: `https://maps.google.com/maps?z=${settings.zoom.value}&t=${mapType}&q=${settings.map}&ie=UTF8&&output=embed`, title: settings.map, allowFullScreen: true, loading: "lazy", referrerPolicy: "no-referrer-when-downgrade" }) }));
};
