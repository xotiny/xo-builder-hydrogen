import { jsx as _jsx, Fragment as _Fragment, jsxs as _jsxs } from "react/jsx-runtime";
import { useMoney } from '@shopify/hydrogen';
import { useProduct } from "../../../hooks/use-shopify-data";
import { elementAttr } from "../../../utils/template-helpers/element-attr";
export const ProductCompareAtPrice = ({ element }) => {
    const { settings } = element;
    const { product, selectedVariant } = useProduct(element.id);
    if (!product || !selectedVariant) {
        return null;
    }
    const { price, compareAtPrice } = selectedVariant;
    return (_jsx("div", { ...elementAttr(element, {
            classNames: ['xb-product-compare-at-price', settings.static?.class],
        }), children: compareAtPrice?.amount && compareAtPrice?.amount > price?.amount && _jsx(CompareAtPrice, { data: compareAtPrice }) }));
};
function CompareAtPrice({ data }) {
    const { currencyNarrowSymbol, withoutTrailingZerosAndCurrency } = useMoney(data);
    return (_jsxs(_Fragment, { children: [currencyNarrowSymbol, withoutTrailingZerosAndCurrency] }));
}
