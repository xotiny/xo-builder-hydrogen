import { jsx as _jsx } from "react/jsx-runtime";
import { useProduct } from "../../../hooks/use-shopify-data";
import { elementAttr } from "../../../utils/template-helpers/element-attr";
import './styles';
export const ProductBadgeSale = ({ element }) => {
    const { settings } = element;
    const { product, selectedVariant } = useProduct(element.id);
    if (!product || !selectedVariant) {
        return null;
    }
    const { price, compareAtPrice } = selectedVariant;
    if (!compareAtPrice) {
        return;
    }
    const percent = 100 - (Number(price.amount) / Number(compareAtPrice.amount)) * 100;
    const priceSale = Number(price.amount) - Number(compareAtPrice.amount);
    return (_jsx("div", { ...elementAttr(element, {
            classNames: ['xb-badge-sale', settings.static?.class],
        }), children: settings.$saleStyle === 'text' ? 'Sale' : settings.$saleStyle === 'percent' ? `-${percent}%` : priceSale }));
};
